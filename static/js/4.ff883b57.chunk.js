(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{342:function(t,e,s){t.exports={post:"MyPosts_post__2q_k7",area:"MyPosts_area__1_16U",add:"MyPosts_add__1_vqn"}},343:function(t,e,s){t.exports={item:"Post_item__jZkh_"}},350:function(t,e,s){"use strict";s.r(e);var n=s(43),o=s(44),i=s(46),c=s(45),a=s(0),r=s.n(a),u=s(115),j=s(47),l=s(1),d=function(t){var e=Object(a.useState)(!1),s=Object(u.a)(e,2),n=s[0],o=s[1],i=Object(a.useState)(t.status),c=Object(u.a)(i,2),r=c[0],j=c[1];Object(a.useEffect)((function(){j(t.status)}),[t.status]);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("b",{children:"\u0421\u0442\u0430\u0442\u0443\u0441: "}),!n&&Object(l.jsx)("span",{onDoubleClick:function(){o(!0)},children:t.status||"-----"}),n&&Object(l.jsx)("input",{autoFocus:!0,onBlur:function(){o(!1),t.updateStatus(r)},onChange:function(t){j(t.target.value)},value:r})]})},b=s(112),p=s(49),h=s(146),f=s(31),O=s.n(f),x=Object(h.a)({form:"editProfile"})((function(t){var e=t.handleSubmit,s=t.profile,n=t.error;return console.log(s),Object(l.jsxs)("form",{onSubmit:e,children:[n&&Object(l.jsx)("div",{className:O.a.formSunnierError,children:n}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"FullName: "})," ",Object(p.c)("Full name","fullName",[],p.a)]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"looking for a job: "}),Object(p.c)("","lookingForAJob",[],p.a,{type:"checkbox"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"I can: "}),Object(p.c)("skils","lookingForAJobDescription",[],p.b)]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"About me: "}),Object(p.c)("About me","aboutMe",[],p.b)]}),Object(l.jsx)("div",{children:Object(l.jsxs)("b",{children:["Contacts: ",Object.keys(s.contacts).map((function(t){return Object(l.jsx)("div",{children:Object(l.jsxs)("b",{children:[t,": ",Object(p.c)(t,"contacts."+t,[],p.a)]})},t)}))]})}),Object(l.jsx)("button",{children:"save"})]})})),m=s(348),v=s(352),g=s(328),k=s(20),S=s(36),y=s.n(S),P=function(t){return Object(l.jsxs)("div",{children:[Object(l.jsxs)("b",{children:[t.contactTitle,": "]}),t.contactValue]})},I=function(t){return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:Object(l.jsxs)("h2",{children:[Object(l.jsx)("b",{children:"FullName: "}),t.profile.fullName]})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"looking for a job: "}),t.profile.lookingForAJob?"yes":"no"]}),t.profile.lookingForAJobDescription&&Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"I can: "}),t.profile.lookingForAJobDescription]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"About me: "}),t.profile.aboutMe]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"Contacts: "}),Object.keys(t.profile.contacts).map((function(e){return Object(l.jsx)(P,{contactTitle:e,contactValue:t.profile.contacts[e]},e)}))]}),t.ownerId&&Object(l.jsx)(g.a,{variant:"contained",color:"primary",onClick:t.goToEditeMode,children:"edit Data"})]})},C=function(t){Object(i.a)(s,t);var e=Object(c.a)(s);function s(){var t;Object(n.a)(this,s);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))).state={editMode:!1,status:t.props.status},t.activateEditMode=function(){t.setState({editMode:!0})},t.offEditMode=function(){t.setState({editMode:!1}),t.props.updateStatus(t.state.status)},t.onStatusChange=function(e){t.setState({status:e.target.value})},t}return Object(o.a)(s,[{key:"componentDidUpdate",value:function(t,e,s){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(l.jsx)(l.Fragment,{children:this.state.editMode?Object(l.jsx)("div",{children:Object(l.jsx)("input",{onChange:this.onStatusChange,autoFocus:!0,onBlur:this.offEditMode,value:this.state.status})}):Object(l.jsx)("div",{children:Object(l.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"-----"})})})}}]),s}(r.a.Component),M=function(t){var e=Object(a.useState)(!1),s=Object(u.a)(e,2),n=s[0],o=s[1];if(!t.profile)return Object(l.jsx)(j.a,{});return Object(l.jsxs)(m.a,{container:!0,spacing:0,children:[Object(l.jsxs)(m.a,{item:!0,xs:12,sm:5,children:[null===t.profile.photos.large?Object(l.jsx)("img",{height:150,width:150,src:b.a}):Object(l.jsx)("img",{src:t.profile.photos.large}),Object(l.jsxs)(m.a,{children:[Object(l.jsx)(d,{status:t.status,updateStatus:t.updateStatus}),Object(l.jsx)(C,{status:t.status,updateStatus:t.updateStatus})]}),Object(l.jsx)(m.a,{children:t.ownerId&&Object(l.jsx)(v.a,{color:"primary",type:"file",onChange:function(e){e.target.files.length&&t.updatePhoto(e.target.files[0])}})}),Object(l.jsx)(m.a,{children:!t.ownerId&&Object(l.jsx)(k.b,{to:"/dialogs/"+t.profile.userId,activeClassName:y.a.act,children:Object(l.jsx)(g.a,{variant:"contained",color:"primary",children:"Start dialog"})})})]}),Object(l.jsx)(m.a,{item:!0,xs:12,sm:7,children:n?Object(l.jsx)(x,{onSubmit:function(e){t.updateInfoProfile(e).then((function(){o(!1)}))},initialValues:t.profile,profile:t.profile}):Object(l.jsx)(I,{profile:t.profile,ownerId:t.ownerId,goToEditeMode:function(){o(!0)}})})]})},_=s(77),D=s(342),A=s.n(D),w=s(343),F=s.n(w),E=function(t){return Object(l.jsx)("div",{children:Object(l.jsx)("div",{className:"posts",children:Object(l.jsxs)("div",{className:F.a.item,children:[Object(l.jsx)("img",{src:"https://klike.net/uploads/posts/2019-06/1560329641_2.jpg"}),t.onePostElement,Object(l.jsx)("div",{children:Object(l.jsxs)("span",{children:['"Like ',t.likeCount,'"']})})]})})})},N=s(102),J=s(75),U=r.a.memo((function(t){var e=Object(_.a)(t.posts).reverse().map((function(e){return Object(l.jsxs)("div",{children:[Object(l.jsx)(E,{onePostElement:e.post,likeCount:e.likeCount}),Object(l.jsx)("button",{onClick:function(){t.deletePost(e.id)},children:"x"})]},e.id)}));return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:A.a.post,children:["My post",Object(l.jsx)("div",{children:Object(l.jsx)("div",{className:A.a.area,children:Object(l.jsx)(T,{onSubmit:function(e){t.addpost(e.massages)}})})})]}),e]})})),z=Object(J.a)(10),T=Object(h.a)({form:"post"})((function(t){return Object(l.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(l.jsx)("div",{children:Object(l.jsx)(N.a,{placeholder:"massages",component:p.b,name:"massages",validate:[J.b,z]})}),Object(l.jsx)(g.a,{type:"submit",variant:"contained",color:"primary",children:"Add"})]})})),V=s(18),q=s(114),B=Object(V.b)((function(t){return{posts:t.profile.postsDataArray}}),(function(t){return{addpost:function(e){t(Object(q.b)(e))},deletePost:function(e){t(Object(q.c)(e))}}}))(U),L=function(t){return Object(l.jsxs)("div",{children:[Object(l.jsx)(M,{profile:t.profile,status:t.status,updateStatus:t.updateStatus,ownerId:t.ownerId,updatePhoto:t.updatePhoto,updateInfoProfile:t.updateInfoProfile}),Object(l.jsx)(B,{})]})},Z=s(12),G=s(11),H=function(t){Object(i.a)(s,t);var e=Object(c.a)(s);function s(){return Object(n.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userID;t||(t=this.props.authorizationUserId)||this.props.history.push("/login"),this.props.getOneProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.userID!==t.match.params.userID&&this.refreshProfile()}},{key:"render",value:function(){return Object(l.jsx)(L,{profile:this.props.profile,ownerId:!this.props.match.params.userID,status:this.props.status,updateStatus:this.props.updateStatus,updatePhoto:this.props.updatePhoto,updateInfoProfile:this.props.updateInfoProfile})}}]),s}(r.a.Component),K=Object(G.d)(Object(V.b)((function(t){return{profile:t.profile.profile,status:t.profile.status,authorizationUserId:t.auth.userId,isAuthorization:t.auth.isAuthorization}}),{getOneProfile:q.d,getStatus:q.e,updateStatus:q.h,updatePhoto:q.g,updateInfoProfile:q.f}),Z.g)(H);e.default=K}}]);
//# sourceMappingURL=4.ff883b57.chunk.js.map