{"version":3,"sources":["BLL/Reducers/users-reducer.tsx","ui-new/app.module.scss","ui-new/Common/preloader/priloader.module.scss","BLL/Reducers/dialogs-saga.tsx","ui-new/login-page/login.module.scss","DAL/api.tsx","ui-new/Common/forms-control/FormsControl.tsx","ui-new/setting/contacts-edit-form/contacts-edit-form.module.scss","ui-new/nav/nav.module.scss","ui-new/setting/aboutMe-edit-form/aboutMe-edit-form.module.scss","reportWebVitals.ts","BLL/Reducers/authorization-reducer.tsx","BLL/Reducers/app-reducer.tsx","DAL/chat-api.tsx","BLL/Reducers/chat-reducer.tsx","BLL/Reducers/auth-saga.tsx","BLL/Reducers/app-saga.tsx","BLL/store.tsx","ui-new/nav/nav.tsx","ui-new/login-page/login-form.tsx","ui-new/login-page/login-container.tsx","ui-new/login-page/login.tsx","ui-new/users-page/one-user/oneUser.tsx","ui-new/users-page/paginator/Paginator.tsx","ui-new/users-page/users.tsx","ui-new/users-page/users-container.tsx","ui-new/header/header.tsx","ui-new/header/header-container.tsx","ui-new/setting/aboutMe-edit-form/aboutMe-edit-form.tsx","ui-new/setting/contacts-edit-form/contacts-edit-form.tsx","ui-new/setting/setting.tsx","ui-new/setting/setting-container.tsx","ui-new/HOC/with-suspense.tsx","ui-new/chat-page/chat.tsx","ui-new/App.tsx","index.tsx","ui-new/login-page/login-form.module.scss","ui-new/users-page/one-user/one-user.module.scss","ui-new/header/header.module.scss","ui-new/chat-page/chat.module.scss","BLL/users-selectors.tsx","BLL/Reducers/profile-reducer.tsx","ui-new/Common/forms-control/forms.module.css","ui-new/users-page/users.module.scss","ui-new/setting/setting.module.scss","ui-new/assets/img/looading.gif","ui-new/Common/preloader/Preloader.tsx","BLL/Reducers/profile-saga.tsx","BLL/Reducers/users-saga.tsx","BLL/Reducers/dialogs-reducer.tsx","ui-new/users-page/paginator/Paginator.module.scss","ui-new/assets/img/no_image.png","ui-new/utils/validators/validators.tsx"],"names":["FOLLOW","UN_FOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","SET_USERID_FOR_DISABLE","TOGGLE_IS_FOLLOW","SEARCH","initialState","usersData","pageSize","totalUsersCount","currentPages","isFetching","userIdForDisabled","isFollow","search","UsersReducer","state","action","type","follow","map","x","id","userId","followed","users","totalCounter","IsFollowingProgress","followAC","unFollowAC","setUsersAC","searchAC","setCurrentPageAC","setTotalUsersCountAC","total","setUserIdForDisabledAC","toggleIsFetchingAC","toggleFollowAC","module","exports","getSelectedDialogWorkerSaga","senMessageWorkerSaga","getUsersTalkedWorkerSaga","dialogSaga","put","call","messagesAPI","getSelectedDialog","pagesize","response","getSelectedDialogAC","getSelectedDialogMoreAC","sendMessage","body","data","resultCode","getUsersTalkedWith","getUsersTalkedWithAC","senMessage","takeEvery","instanse","axios","create","withCredentials","headers","baseURL","usersAPI","getUsers","friend","term","get","then","post","getProfile","profileAPI","unFollow","delete","getStatus","userID","updateStatus","statusText","status","updatePhoto","file","formData","FormData","append","updateInfoProfile","profile","authorizationAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","Textarea","input","meta","props","hasError","touched","error","className","style","formControl","Input","createFormField","placeholder","name","validator","component","text","validate","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","SET_USER_DATA","GET_CAPTCHA","isAuthorization","captchaURl","setAuthorizationDataAC","SET_INITIALIZED","initialized","subscribes","ws","messagesHandler","e","forEach","s","JSON","parse","openHandler","errorHandler","console","log","closeHandler","setTimeout","createChanel","cleanUp","removeEventListener","close","WebSocket","addEventListener","chatAPI","event","callback","push","filter","message","send","SN_CHAT_MESSAGES_RECEVIED","SN_CHAT_STATUS_CHANGED","messages","actions","payload","_messagesHandler","newMessageHandler","dispatch","_statusChangedHandler","statusChengedHandler","loginWorkerSaga","getAuthorizationDataWorkerSaga","logoutWorkerSaga","getCaptchaWorkerSaga","authSaga","getAuthorizationData","getCaptcha","errorMessages","length","stopSubmit","_error","captchaUrl","url","initializeWorkerSaga","appWorkers","rootWatcher","reducers","combineReducers","ProfileReducer","dialog","dialogReducer","usersPage","auth","form","formReducer","app","chat","m","index","arr","sagaMiddleware","createSagaMiddleware","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddlewere","all","profileSaga","usersSaga","run","Nav","useDispatch","block","iconMenu","container","menu","item","to","buttonItem","logOut","onClick","maxLengthValidator","maxLength","LoginReduxForm","reduxForm","handleSubmit","onSubmit","loginForm","Field","requiredField","checkbox","src","alt","formSunnierError","button","LoginContainer","connect","isAuth","rightPart","pathContainer","firstText","secondText","oneAdvantage","icon","description","title","desc","leftPart","iconNetwork","welcome","OneUser","user","oneFriendContainer","photo","photos","small","no_image","btn","disabled","some","unfollow","follower","viewProfileBtn","Paginator","pagesCount","Math","ceil","totalItemsCount","pages","i","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","selectPage","page","onPageChanget","Users","inp","value","onChange","currentTarget","FiendsAC","userBlock","paginator","UsersAPI","pageNumber","getUsersThunk","SetCurrentPage","this","prevProps","prevState","snapshot","setIsFollowingProgress","React","Component","UsersContainer","getUsersCreateSelector","getPageSize","getTotalUsersCount","getCurrentPages","getIsFetching","getIsFollowingProgress","setUsers","setTotalUsersCount","toogleIsFetching","Header","info","unLog","HeaderContainerConnect","location","reload","refreshHeader","HeaderContainer","AboutMeEditForm","formContainer","editBlock","item1","item2","MainEdit","mainInfo","photoChangeBlock","large","htmlFor","customfileupload","target","files","inputFile","ContactsEditForm","initialValues","editName","editContacts","contacts","Object","keys","key","contact","Setting","setX","y","setY","Preloader","editContainer","nav","ProfileConteiner","ownerId","authorizationUserId","history","getOneProfile","refreshProfile","match","params","SettingContainer","updatePhotoTC","withRouter","WithSuspenseHOC","Suspense","fallback","ChatPage","Chat","useSelector","useEffect","dispath","a","Messages","memo","scrol","setScrol","mesAchorRef","useRef","current","scrollIntoView","behavior","onScroll","el","abs","scrollHeight","scrollTop","clientHeight","my","width","height","sms","userName","ref","AddItemForm","mes","setMes","sendMesBlock","sendMess","MessagesContainer","lazy","ProfileContainerConnect","App","catchAllUnhandleError","promiseRejectEvent","alert","initializeApp","pathname","path","render","AppContainer","ReactDOM","document","getElementById","createSelector","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO","postsDataArray","likeCount","massages","setOneProfileAC","updateStatusAC","updatePhotoAC","looading","pril","getOneProfileWorkerSaga","getStatusWorkerSaga","updateStatusWorkwrSaga","updateInfoProfileWorkerSaga","getCart","select","Promise","reject","getUsersWorkerSaga","folloWorkerSaga","unFollowWorkerSaga","items","totalCount","GET_SELECTED_DIALOG","GET_SELECTED_DIALOG_MORE","GET_USERS_TALKED_WITH","recipientId","oldMessages","concat","usersArray"],"mappings":"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","file":"static/js/main.3e4bb777.chunk.js","sourcesContent":["const FOLLOW = \"FOLLOW\"\r\nconst UN_FOLLOW = \"UN_FOLLOW\"\r\nconst SET_USERS = \"SET_USERS\"\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\"\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\"\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\"\r\nconst SET_USERID_FOR_DISABLE = \"SET_USERID_FOR_DISABLE\"\r\nconst TOGGLE_IS_FOLLOW = \"TOGGLE_IS_FOLLOW\"\r\nconst SEARCH = \"SEARCH\"\r\n\r\n\r\n//type for Reduces\r\ntype FollowType = {\r\n    type: \"FOLLOW\"\r\n    userId: number\r\n}\r\ntype UNfollowType = {\r\n    type: \"UN_FOLLOW\"\r\n    userId: number\r\n}\r\ntype SetUsersType = {\r\n    type: \"SET_USERS\"\r\n    users: []\r\n}\r\ntype SetCurrentPageType = {\r\n    type: \"SET_CURRENT_PAGE\"\r\n    currentPages: number\r\n}\r\ntype SetTotalUsersCountACType = {\r\n    type: \"SET_TOTAL_USERS_COUNT\"\r\n    totalCounter: number\r\n}\r\ntype ToggleIsFetchingType = {\r\n    type: \"TOGGLE_IS_FETCHING\"\r\n    isFetching: boolean\r\n}\r\ntype SetUserIdForDisableType = {\r\n    type: \"SET_USERID_FOR_DISABLE\"\r\n    IsFollowingProgress: boolean\r\n    userId: any\r\n}\r\ntype ToggleIsFollowType = {\r\n    type: \"TOGGLE_IS_FOLLOW\"\r\n    follow: boolean\r\n}\r\ntype SearchType = {\r\n    type: \"SEARCH\"\r\n    search: string\r\n}\r\n\r\n//type for Action\r\ntype ActionType =\r\n    FollowType\r\n    | UNfollowType\r\n    | SetUsersType\r\n    | SetCurrentPageType\r\n    | SetTotalUsersCountACType\r\n    | ToggleIsFetchingType\r\n    | SetUserIdForDisableType\r\n    | ToggleIsFollowType\r\n    | SearchType\r\n\r\n//initial State type\r\nexport type OneUsersType = {\r\n    id: number,\r\n    followed: boolean,\r\n    name: string,\r\n    status: string,\r\n    photos: any\r\n    uniqueUrlName: any\r\n}\r\ntype UsersType = {\r\n    usersData: Array<OneUsersType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPages: number\r\n    isFetching: boolean\r\n    userIdForDisabled: any\r\n    isFollow: boolean\r\n    search: string\r\n}\r\nlet initialState: UsersType = {\r\n    usersData: [],\r\n    pageSize: 30,\r\n    totalUsersCount: 0,\r\n    currentPages: 1,\r\n    isFetching: true,\r\n    userIdForDisabled: [],\r\n    isFollow: false,\r\n    search: \"\"\r\n}\r\n\r\nexport const UsersReducer = (state: UsersType = initialState, action: ActionType): UsersType => {\r\n    if (state) {\r\n        switch (action.type) {\r\n            case TOGGLE_IS_FOLLOW:\r\n                return {\r\n                    ...state,\r\n                    isFollow: action.follow\r\n                }\r\n\r\n            case SEARCH:\r\n                return {\r\n                    ...state,\r\n                    search: action.search\r\n                }\r\n            case FOLLOW:\r\n                return {\r\n                    ...state,\r\n                    usersData: state.usersData.map((x) => {\r\n                        if (x.id === action.userId) {\r\n                            return {...x, followed: true}\r\n                        } else return x\r\n                    })\r\n                }\r\n            case UN_FOLLOW:\r\n                return {\r\n                    ...state,\r\n                    usersData: state.usersData.map((x) => {\r\n                        if (x.id === action.userId) {\r\n                            return {...x, followed: false}\r\n                        } else return x\r\n                    })\r\n                }\r\n            case SET_USERS:\r\n                return {...state, usersData: [...action.users]}\r\n            case SET_CURRENT_PAGE:\r\n                return {...state, currentPages: action.currentPages}\r\n            case SET_TOTAL_USERS_COUNT:\r\n                return {...state, totalUsersCount: action.totalCounter}\r\n            case TOGGLE_IS_FETCHING:\r\n                return {...state, isFetching: action.isFetching}\r\n            case SET_USERID_FOR_DISABLE:\r\n                return {\r\n                    ...state,\r\n                    userIdForDisabled: action.IsFollowingProgress\r\n                        ? [action.userId]\r\n                        : []\r\n                }\r\n            default:\r\n                return state;\r\n        }\r\n    } else return state\r\n}\r\n\r\n//ActionCreator\r\nexport const followAC = (userId: number): FollowType =>\r\n    ({type: FOLLOW, userId})\r\nexport const unFollowAC = (userId: number): UNfollowType =>\r\n    ({type: UN_FOLLOW, userId})\r\n\r\n\r\nexport const setUsersAC = (users: []): SetUsersType =>\r\n    ({type: SET_USERS, users})\r\n\r\n\r\nexport const searchAC = (search: string): SearchType =>\r\n    ({type: SEARCH, search})\r\n\r\n\r\nexport const setCurrentPageAC = (currentPages: number): SetCurrentPageType =>\r\n    ({type: SET_CURRENT_PAGE, currentPages})\r\nexport const setTotalUsersCountAC = (total: number): SetTotalUsersCountACType =>\r\n    ({\r\n        type: SET_TOTAL_USERS_COUNT,\r\n        totalCounter: total\r\n    })\r\n// isFoll.Pr true, то в IsFollowingProgress в стейте записываем айди выбранного пользователя, иначе пустой массив\r\nexport const setUserIdForDisabledAC = (IsFollowingProgress: boolean, userId: any): SetUserIdForDisableType =>\r\n    ({\r\n        type: SET_USERID_FOR_DISABLE,\r\n        IsFollowingProgress: IsFollowingProgress,\r\n        userId\r\n    })\r\n\r\n\r\n// меняем в стейте значение isFetching. тру, значит, еще в процессе загрузки.\r\nexport const toggleIsFetchingAC = (isFetching: boolean): ToggleIsFetchingType =>\r\n    ({\r\n        type: TOGGLE_IS_FETCHING,\r\n        isFetching: isFetching\r\n    })\r\nexport const toggleFollowAC = (follow: boolean): ToggleIsFollowType =>\r\n    ({type: TOGGLE_IS_FOLLOW, follow})\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"app_block__sEMSB\",\"container\":\"app_container__2QXCc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"priloader_block__3gPC2\",\"pril\":\"priloader_pril__2WW1u\"};","import {toggleIsFetchingAC} from \"./users-reducer\";\r\nimport {messagesAPI} from \"../../DAL/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {getSelectedDialogAC, getSelectedDialogMoreAC, getUsersTalkedWithAC} from \"./dialogs-reducer\";\r\nimport {call, put, takeEvery} from \"redux-saga/effects\";\r\nimport {getAuthorizationDataWorkerSaga, getCaptchaWorkerSaga, loginWorkerSaga, logoutWorkerSaga} from \"./auth-saga\";\r\n\r\n/*export const getSelectedDialogTC = (id: any, currentPages: any, pagesize: any) => async (dispatch: Dispatch) => {\r\n    dispatch(toggleIsFetchingAC(true))\r\n\r\n    let response = await messagesAPI.getSelectedDialog(id, currentPages, pagesize)\r\n    if (currentPages === 1) {\r\n        dispatch(getSelectedDialogAC(response));\r\n    } else {\r\n        dispatch(getSelectedDialogMoreAC(response));\r\n    }\r\n    dispatch(toggleIsFetchingAC(false))\r\n\r\n}*/\r\nexport function* getSelectedDialogWorkerSaga (action: ReturnType<typeof getSelectedDialog>): any {\r\n    yield put(toggleIsFetchingAC(true))\r\n\r\n    let response = yield call (messagesAPI.getSelectedDialog, action.id, action.currentPages, action.pagesize)\r\n    if (action.currentPages === 1) {\r\n        yield put(getSelectedDialogAC(response));\r\n    } else {\r\n        yield put(getSelectedDialogMoreAC(response));\r\n    }\r\n    yield put(toggleIsFetchingAC(false))\r\n}\r\n// отправить сообщение на сервер\r\n// export const senMessageTC = (userId: any, body: string) => async (dispatch: any) => {\r\n//     dispatch(toggleIsFetchingAC(true))\r\n//\r\n//     let response = await messagesAPI.sendMessage(userId, body)\r\n//     if (response.data.resultCode === 0) {\r\n//         dispatch(getSelectedDialog(userId, 1, 20))\r\n//     }\r\n//     dispatch(toggleIsFetchingAC(false))\r\n//\r\n// }\r\nexport function* senMessageWorkerSaga (action: ReturnType<typeof senMessage> ): any {\r\n    yield put(toggleIsFetchingAC(true))\r\n    let response = yield call(messagesAPI.sendMessage,action.userId, action.body)\r\n    if (response.data.resultCode === 0) {\r\n        yield put(getSelectedDialog(action.userId, 1, 20))\r\n    }\r\n    yield put(toggleIsFetchingAC(false))\r\n}\r\n\r\n// получить список пользователей с кем общался\r\n// export const getUsersTalkedWithTC = () => async (dispatch: Dispatch) => {\r\n//     dispatch(toggleIsFetchingAC(true))\r\n//\r\n//     let response = await messagesAPI.getUsersTalkedWith()\r\n//     dispatch(getUsersTalkedWithAC(response));\r\n//     dispatch(toggleIsFetchingAC(false))\r\n// }\r\nexport function* getUsersTalkedWorkerSaga (): any{\r\n    yield put(toggleIsFetchingAC(true))\r\n    let response = yield call(messagesAPI.getUsersTalkedWith)\r\n    yield put(getUsersTalkedWithAC(response));\r\n    yield put(toggleIsFetchingAC(false))\r\n}\r\n\r\n\r\n\r\n\r\nexport const getSelectedDialog=(id: any, currentPages: any, pagesize: any)=>{\r\n    return{type: \"DIALOGS/getSelectedDialog\", id, currentPages, pagesize}\r\n}\r\nexport const senMessage=(userId: any, body: string)=>{\r\n    return {type: \"DIALOGS/SENT_MESSAGE\", userId, body}\r\n}\r\nexport const getUsersTalkedWith=()=>{\r\n    return {type: \"DIALOGS/GET_USER_TALKED\"}\r\n}\r\n\r\nexport function* dialogSaga() {\r\n    yield takeEvery(\"DIALOGS/getSelectedDialog\", getSelectedDialogWorkerSaga)\r\n    yield takeEvery(\"DIALOGS/SENT_MESSAGE\", senMessageWorkerSaga)\r\n    yield takeEvery(\"DIALOGS/GET_USER_TALKED\", getUsersTalkedWorkerSaga)\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"login_block__3_udS\",\"container\":\"login_container__DukJL\",\"rightPart\":\"login_rightPart__1bKCf\",\"pathContainer\":\"login_pathContainer__1weu4\",\"firstText\":\"login_firstText__1ZYqQ\",\"secondText\":\"login_secondText__1g8Fr\",\"oneAdvantage\":\"login_oneAdvantage__1ClLI\",\"icon\":\"login_icon__W7cfQ\",\"description\":\"login_description__Wrkfh\",\"title\":\"login_title__3O8Pr\",\"desc\":\"login_desc__3GLNQ\",\"leftPart\":\"login_leftPart__QqwSH\",\"iconNetwork\":\"login_iconNetwork__2f7lo\",\"welcome\":\"login_welcome__3d5N8\"};","import axios, {AxiosResponse} from \"axios\";\r\n\r\n\r\nconst instanse = axios.create({\r\n    withCredentials: true,\r\n    headers: {\r\n       \"API-KEY\": \"603ef8c0-4933-4294-ab5f-b170d3ebe6d8\"\r\n       //  \"API-KEY\": \"48cd781d-ab35-4a63-97ba-b184f71ed662\"\r\n    },\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/'\r\n})\r\n\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPages: any, pagesize: any,friend: any, term: any) {\r\n        return (\r\n            instanse.get(`users?page=${currentPages}&count=${pagesize}&friend=${friend}&term=${term}`, {})\r\n                .then(response => response.data)\r\n        )\r\n    },\r\n\r\n    follow(id: any) {\r\n        return (\r\n            instanse.post(`follow/${id}`, {}, {})\r\n                .then(response => response.data)\r\n        )\r\n    },\r\n    getProfile(id: any) {\r\n        return profileAPI.getProfile(id)\r\n    },\r\n    unFollow(id: any) {\r\n        return (\r\n            instanse.delete(`follow/${id}`, {})\r\n                .then(response => response.data)\r\n        )\r\n    }\r\n\r\n}\r\nexport const profileAPI = {\r\n    getProfile(id: any) {\r\n        return (\r\n            instanse.get(`profile/${id}`)\r\n        )\r\n    },\r\n    getStatus(userID: any) {\r\n        return (\r\n            instanse.get(`/profile/status/${userID}`)\r\n        )\r\n    },\r\n    updateStatus(statusText: string) {\r\n        return (\r\n            instanse.put(`/profile/status`, {status: statusText})\r\n        )\r\n    },\r\n    updatePhoto(file: any) {\r\n        let formData = new FormData();\r\n        formData.append(\"image\", file)\r\n        return (instanse.put(`profile/photo`, formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            })\r\n        )\r\n    },\r\n    updateInfoProfile(profile: any) {\r\n        return instanse.put(`/profile`, profile)\r\n    }\r\n}\r\nexport const authorizationAPI = {\r\n    me() {\r\n        return instanse.get(`auth/me`, {})\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean = false, captcha: any) {\r\n        return (\r\n            instanse.post(`auth/login`, {email, password, rememberMe, captcha}, {})\r\n\r\n        )\r\n    },\r\n    logout() {\r\n        return (\r\n            instanse.delete(`auth/login`, {})\r\n        )\r\n    }\r\n}\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return (\r\n            instanse.get(`security/get-captcha-url`)\r\n        )\r\n    }\r\n}\r\nexport const messagesAPI = {\r\n    getSelectedDialog(userId: any,currentPages: any, pagesize: any ) {\r\n        return (\r\n            instanse.get(`dialogs/${userId}/messages?page=${currentPages}&count=${pagesize}`, {})\r\n                .then(response => response.data)\r\n        )\r\n    },\r\n    sendMessage(userId: any, body: string) {\r\n        return (\r\n            instanse.post(`dialogs/${userId}/messages`, {body}, {})\r\n        )\r\n    },\r\n    getUsersTalkedWith() {\r\n        return (\r\n            instanse.get(`dialogs`, {})\r\n                .then(response => response.data)\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport style from './forms.module.css'\r\nimport {Field} from \"redux-form\";\r\n\r\nexport const Textarea = ({input, meta, ...props}: any) => {\r\n    const hasError = meta.touched && meta.error\r\n    return <div className={style.formControl + \" \" + (hasError ? style.error : \"\")}>\r\n        <textarea {...input} {...props}/>\r\n        <div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    </div>\r\n}\r\nexport const Input = ({input, meta, ...props}: any) => {\r\n    const hasError = meta.touched && meta.error\r\n    return <div className={style.formControl + \" \" + (hasError ? style.error : \"\")}>\r\n        <input {...input} {...props}/>\r\n        <div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    </div>\r\n}\r\nexport const Form = ({input, meta, el, ...props}: any) => {\r\n    const hasError = meta.touched && meta.error\r\n    return <div className={style.formControl + \" \" + (hasError ? style.error : \"\")}>\r\n        <props.el {...input} {...props}/>\r\n        <div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport const createFormField = (placeholder: any, name: any, validator: any, component: any, props = {}, text = \"\") => (\r\n    <>\r\n        <Field placeholder={placeholder}\r\n               name={name}\r\n               validate={validator}\r\n               component={component}\r\n               {...props}/> {text}\r\n    </>\r\n)\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainInfo\":\"contacts-edit-form_mainInfo__1PkIp\",\"photoChangeBlock\":\"contacts-edit-form_photoChangeBlock__23qiP\",\"photo\":\"contacts-edit-form_photo__snaVO\",\"customfileupload\":\"contacts-edit-form_customfileupload__30MSl\",\"inputFile\":\"contacts-edit-form_inputFile__Tj80A\",\"formContainer\":\"contacts-edit-form_formContainer__3s-7o\",\"editName\":\"contacts-edit-form_editName__1qe7z\",\"title\":\"contacts-edit-form_title__3g0JI\",\"input\":\"contacts-edit-form_input__1LD_L\",\"editContacts\":\"contacts-edit-form_editContacts__2iBK9\",\"contacts\":\"contacts-edit-form_contacts__3yY_Q\",\"contact\":\"contacts-edit-form_contact__Obgae\",\"btn\":\"contacts-edit-form_btn__2Y2jU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"nav_block__1GB-e\",\"iconMenu\":\"nav_iconMenu__2CJ9I\",\"container\":\"nav_container__2NfBV\",\"menu\":\"nav_menu__u0sDu\",\"item\":\"nav_item__2Fqq1\",\"logOut\":\"nav_logOut__3ORVn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formContainer\":\"aboutMe-edit-form_formContainer__3zhRl\",\"editBlock\":\"aboutMe-edit-form_editBlock__2paPj\",\"item1\":\"aboutMe-edit-form_item1__bI0uV\",\"input\":\"aboutMe-edit-form_input__22S9P\",\"item2\":\"aboutMe-edit-form_item2__8RpbT\",\"btn\":\"aboutMe-edit-form_btn__ktBa9\"};","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const SET_USER_DATA = \"SET_USER_DATA\"\r\nconst GET_CAPTCHA = \"CAPTCHA\"\r\n\r\n//type for Reduces\r\ntype SetUserType = {\r\n    type: \"SET_USER_DATA\"\r\n    userId: any,\r\n    email: any,\r\n    login: any,\r\n    isAuthorization: any\r\n}\r\ntype GetCaptchaType = {\r\n    type: \"CAPTCHA\"\r\n    captchaURl: any\r\n}\r\n\r\n\r\n///////type for Action\r\ntype ActionType = SetUserType | GetCaptchaType\r\n\r\n/////initial State\r\ntype AuthorizationStateType = {\r\n    userId: number | null\r\n    email: string | null\r\n    login: boolean | null\r\n    isAuthorization: boolean | null\r\n    captchaURl: any\r\n}\r\n\r\nlet initialState: AuthorizationStateType = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuthorization: false,\r\n    captchaURl: null\r\n}\r\n\r\nexport const AuthorizationReducer = (state: AuthorizationStateType = initialState, action: ActionType): AuthorizationStateType => {\r\n    if (state) {\r\n        switch (action.type) {\r\n            case SET_USER_DATA:\r\n                return {\r\n                    ...state,\r\n                    userId: action.userId,\r\n                    email: action.email,\r\n                    login: action.login,\r\n                    isAuthorization: action.isAuthorization\r\n                }\r\n                case GET_CAPTCHA:\r\n                return {\r\n                    ...state,\r\n                    captchaURl: action.captchaURl\r\n                }\r\n            default:\r\n                return state;\r\n        }\r\n    } else return state\r\n}\r\n\r\n//ACTION CREATOR\r\n// меняем данные в в стейте на данные авторизированного пользователя\r\nexport const setAuthorizationDataAC = (userId: number | null, email: string | null, login: string | null, isAuthorization: boolean | null): SetUserType => ({\r\n    type: SET_USER_DATA,\r\n    userId: userId,\r\n    email: email,\r\n    login: login,\r\n    isAuthorization: isAuthorization\r\n})\r\n// добовляем капчу, пришедшую из сервера, в наш стейт\r\nexport const setCaptchaAC = (captchaURl: any): GetCaptchaType => ({\r\n    type: GET_CAPTCHA,\r\n    captchaURl: captchaURl\r\n})","const SET_INITIALIZED = \"SET_INITIALIZED\"\r\n\r\n//type for Reduces\r\ntype InitializedType = {\r\n    type: \"SET_INITIALIZED\"\r\n}\r\n\r\n//type for Action\r\ntype ActionType = InitializedType\r\n\r\n//initial State\r\ntype StateType = {\r\n    initialized: boolean\r\n}\r\nlet initialState: StateType = {\r\n    initialized: false\r\n}\r\n\r\nexport const AppReducer = (state: StateType = initialState, action: ActionType): StateType => {\r\n    if (state) {\r\n        switch (action.type) {\r\n            case SET_INITIALIZED:{\r\n                return {\r\n                    ...state,\r\n                    initialized: true\r\n                }\r\n            }\r\n            default:\r\n                return state;\r\n        }\r\n    }\r\n    else return state\r\n}\r\n\r\n\r\n// Action Creator\r\nexport const initializedSuccessAC = (): InitializedType => ({type: SET_INITIALIZED})\r\n\r\n\r\n","export type MessagesType = {\r\n    message: string\r\n    photo: string\r\n    userId: number\r\n    userName: string\r\n}\r\nexport type StatusType='ready' | \"pending\" | 'error'\r\ntype EventName='message-received'| 'statusChanget'\r\n\r\ntype MessagesReceivedSubscriberType = (mes: MessagesType[]) => void\r\ntype StatusChangedSubscriberType = (st: StatusType) => void\r\n\r\nlet subscribes ={\r\n    'message-received':[]as MessagesReceivedSubscriberType[],\r\n    'statusChanget':[]as StatusChangedSubscriberType[],\r\n}\r\n\r\nlet ws: WebSocket | null = null;\r\n\r\nlet messagesHandler = (e: MessageEvent) => {\r\n    subscribes['message-received'].forEach(s => s(JSON.parse(e.data)))\r\n}\r\nlet openHandler = () => {\r\n    subscribes['statusChanget'].forEach(s=>s('ready'))\r\n}\r\nlet errorHandler = () => {\r\n    subscribes['statusChanget'].forEach(s=>s('error'))\r\n    console.log(\"Error, restart page!\")\r\n}\r\n\r\nconst closeHandler = () => {\r\n    console.log(\"close 23 min\");\r\n    subscribes['statusChanget'].forEach(s=>s('pending'))\r\n    setTimeout(createChanel, 3000)\r\n}\r\n\r\nconst cleanUp=()=>{\r\n    ws?.removeEventListener('close', closeHandler)\r\n    ws?.removeEventListener('message', messagesHandler)\r\n    ws?.removeEventListener('open', openHandler)\r\n    ws?.removeEventListener('error', errorHandler)\r\n\r\n}\r\n\r\nfunction createChanel() {\r\n    cleanUp()\r\n    ws?.close()\r\n    ws = new WebSocket(\"wss://social-network.samuraijs.com/handlers/ChatHandler.ashx\")\r\n    subscribes['statusChanget'].forEach(s=>s('pending'))\r\n    ws.addEventListener('close', closeHandler)\r\n    ws.addEventListener('message', messagesHandler)\r\n    ws.addEventListener('open', openHandler)\r\n    ws.addEventListener('error', errorHandler)\r\n}\r\n\r\nexport const chatAPI = {\r\n    subscribe(event:EventName, callback: MessagesReceivedSubscriberType | StatusChangedSubscriberType) {\r\n        // @ts-ignore\r\n        subscribes[event].push(callback);\r\n        return () => {\r\n            // @ts-ignore\r\n            subscribes[event] = subscribes[event].filter(s => s !== callback)\r\n        }\r\n    },\r\n    unsubscribe(event:EventName,callback: MessagesReceivedSubscriberType | StatusChangedSubscriberType) {\r\n        // @ts-ignore\r\n        subscribes[event] = subscribes[event].filter(s => s !== callback)\r\n    },\r\n    sendMessages(message: string) {\r\n        ws?.send(message)\r\n    },\r\n    start() {\r\n        createChanel()\r\n    },\r\n    stop() {\r\n        subscribes['message-received'] = []\r\n        subscribes['statusChanget'] = []\r\n        ws?.close()\r\n        cleanUp()\r\n    },\r\n}\r\n\r\n","import {chatAPI, MessagesType, StatusType} from \"../../DAL/chat-api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nconst SN_CHAT_MESSAGES_RECEVIED = \"SN/CHAT/MESSAGES_RECEVIED\"\r\nconst SN_CHAT_STATUS_CHANGED = \"SN_CHAT_STATUS_CHANGED\"\r\n\r\n//type for Reduces\r\ntype ChatMesType = {\r\n    type: \"SN/CHAT/MESSAGES_RECEVIED\",\r\n    payload: { messages: MessagesType[] }\r\n\r\n}\r\ntype StatusChangetType = {\r\n    type: \"SN_CHAT_STATUS_CHANGED\",\r\n    payload: { status: StatusType}\r\n\r\n}\r\n\r\n//type for Action\r\ntype ActionType = ChatMesType | StatusChangetType\r\n\r\n//initial State\r\ntype StateType = {\r\n    messages: MessagesType[]\r\n    status: StatusType\r\n}\r\nlet initialState: StateType = {\r\n    messages: [] as MessagesType[],\r\n    status: \"pending\"\r\n}\r\n\r\nexport const ChatReducer = (state = initialState, action: ActionType): StateType => {\r\n\r\n    switch (action.type) {\r\n        case SN_CHAT_MESSAGES_RECEVIED:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, ...action.payload.messages].filter((m, index, arr)=>arr.length-30<=index)\r\n            }\r\n        case SN_CHAT_STATUS_CHANGED:\r\n            return {\r\n                ...state,\r\n                status: action.payload.status\r\n            }\r\n\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\n// Action Creator\r\nexport const actions = {\r\n    messagesReceived: (messages: MessagesType[]) => ({\r\n        type: SN_CHAT_MESSAGES_RECEVIED, payload: {messages}\r\n    } as const),\r\n    statusChanged: (status: StatusType) => ({\r\n        type: SN_CHAT_STATUS_CHANGED, payload: {status}\r\n    } as const)\r\n}\r\n\r\n\r\nlet _messagesHandler: ((messages: MessagesType[]) => void) | null = null\r\n\r\nconst newMessageHandler = (dispatch: Dispatch) => {\r\n    if (_messagesHandler === null) {\r\n        _messagesHandler = (messages) => {\r\n            dispatch(actions.messagesReceived(messages))\r\n        }\r\n    }\r\n    return _messagesHandler\r\n}\r\n\r\n\r\nlet _statusChangedHandler: ((st: StatusType) => void) | null = null\r\n\r\nconst statusChengedHandler = (dispatch: Dispatch) => {\r\n    if (_statusChangedHandler === null) {\r\n        _statusChangedHandler = (status:StatusType) => {\r\n            dispatch(actions.statusChanged(status))\r\n        }\r\n    }\r\n    return _statusChangedHandler\r\n}\r\n\r\n//Thunk Creator\r\nexport const startMessagesListening = () => async (dispath: Dispatch) => {\r\n    chatAPI.start()\r\n    chatAPI.subscribe('message-received',newMessageHandler(dispath))\r\n    chatAPI.subscribe('statusChanget',statusChengedHandler(dispath))\r\n}\r\nexport const stopMessagesListening = () => (dispath: Dispatch) => {\r\n    chatAPI.unsubscribe('message-received',newMessageHandler(dispath))\r\n    chatAPI.unsubscribe('statusChanget',statusChengedHandler(dispath))\r\n    chatAPI.stop()\r\n}\r\nexport const sendMessagesThunk = (messages: string) => (dispath: any) => {\r\n    chatAPI.sendMessages(messages)\r\n}\r\n\r\n\r\n\r\n","import {call, put, takeEvery} from \"redux-saga/effects\";\r\nimport {authorizationAPI, securityAPI} from \"../../DAL/api\";\r\nimport {setAuthorizationDataAC, setCaptchaAC} from \"./authorization-reducer\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\n//*******************************saga\r\n// авторизируемся\r\n/*\r\nexport const loginTC = (email: string, password: string, rememberMe: boolean, captcha: any) => async (dispath: any) => {\r\n    let response = await authorizationAPI.login(email, password, rememberMe, captcha)\r\n    // если авт прошла успешно, то выполняем это\r\n    if (response.data.resultCode === 0) {\r\n        dispath(getAuthorizationData())\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispath(getCaptcha())\r\n        }\r\n        let errorMessages = response.data.messages.length > 0\r\n            ? response.data.messages[0]\r\n            : \"some error\"\r\n        dispath(stopSubmit(\"Login\", {_error: errorMessages}))\r\n    }\r\n}\r\n*/\r\nexport function* loginWorkerSaga (action: ReturnType<typeof login >) {\r\n    // @ts-ignore\r\n    let response = yield call(authorizationAPI.login, action.email, action.password, action.rememberMe, action.captcha)\r\n    // если авт прошла успешно, то выполняем это\r\n    if (response.data.resultCode === 0) {\r\n        yield put(getAuthorizationData())\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            yield put(getCaptcha())\r\n        }\r\n        let errorMessages = response.data.messages.length > 0\r\n            ? response.data.messages[0]\r\n            : \"some error\"\r\n        yield put(stopSubmit(\"Login\", {_error: errorMessages}))\r\n    }\r\n}\r\n//получаем данные о пользователе, который авторизировался\r\nexport function* getAuthorizationDataWorkerSaga():any {\r\n    // т к авт прошла успешно, то делаем запрос,\r\n    // от куда берем даные текущего пользователя\r\n\r\n    let response =  yield call(authorizationAPI.me)\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data\r\n        yield put(setAuthorizationDataAC(id, email, login, true))\r\n    }\r\n}\r\nexport function* logoutWorkerSaga() {\r\n\r\n    // @ts-ignore\r\n    let response = yield call(authorizationAPI.logout)\r\n    if (response.data.resultCode === 0) {\r\n        yield put(setAuthorizationDataAC(null, null, null, false));\r\n    }\r\n}\r\n// делаем запрос на сервер, получаем картинку антибот\r\nexport function* getCaptchaWorkerSaga() {\r\n    // @ts-ignore\r\n    let response = yield call(securityAPI.getCaptchaUrl)\r\n    let captchaUrl = response.data.url\r\n    yield put(setCaptchaAC(captchaUrl))\r\n}\r\n//*******************************actions for activate saga\r\nexport const getAuthorizationData = () => {\r\n    return {type: 'AUTH/GET_AUTH_DATA'}\r\n}\r\nexport const logout = () => {\r\n    return {type: 'AUTH/LOGOUT'}\r\n}\r\nexport const getCaptcha = () => {\r\n    return {type: 'AUTH/GET_CAPTCHA'}\r\n}\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: any) => {\r\n    return {type: 'AUTH/LOGIN', email, password, rememberMe, captcha}\r\n}\r\n\r\n\r\n\r\nexport function* authSaga() {\r\n    yield takeEvery(\"AUTH/GET_AUTH_DATA\", getAuthorizationDataWorkerSaga)\r\n    yield takeEvery(\"AUTH/LOGOUT\", logoutWorkerSaga)\r\n    yield takeEvery(\"AUTH/GET_CAPTCHA\", getCaptchaWorkerSaga)\r\n    yield takeEvery(\"AUTH/LOGIN\", loginWorkerSaga)\r\n}\r\n","//Thunk Creator\r\nimport {getAuthorizationData} from \"./auth-saga\";\r\nimport {initializedSuccessAC} from \"./app-reducer\";\r\nimport {call, put, takeEvery} from \"redux-saga/effects\";\r\n\r\nexport function* initializeWorkerSaga(): any {\r\n    yield put(getAuthorizationData());\r\n    yield put(initializedSuccessAC());\r\n}\r\n\r\nexport const initialize = ()  => {\r\n    return {type: \"xxxxxx\"}\r\n}\r\n\r\nexport function* appWorkers() {\r\n    yield takeEvery(\"xxxxxx\", initializeWorkerSaga)\r\n}\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport {ProfileReducer} from \"./Reducers/profile-reducer\";\r\nimport {UsersReducer} from \"./Reducers/users-reducer\";\r\nimport {\r\n        AuthorizationReducer\r\n} from \"./Reducers/authorization-reducer\";\r\nimport thunkMiddlewere from \"redux-thunk\";//thunk as thunkMiddleWere\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport {AppReducer} from \"./Reducers/app-reducer\";\r\nimport {dialogReducer} from \"./Reducers/dialogs-reducer\";\r\nimport {ChatReducer} from \"./Reducers/chat-reducer\";\r\nimport createSagaMiddleware from \"redux-saga\";\r\nimport {all, takeEvery } from \"redux-saga/effects\";\r\nimport {authSaga, getAuthorizationDataWorkerSaga, logoutWorkerSaga} from \"./Reducers/auth-saga\";\r\nimport {appWorkers, initializeWorkerSaga} from \"./Reducers/app-saga\";\r\nimport {dialogSaga} from \"./Reducers/dialogs-saga\";\r\nimport {profileSaga} from \"./Reducers/profile-saga\";\r\nimport {usersSaga} from \"./Reducers/users-saga\";\r\n\r\n\r\nexport const reducers = combineReducers(\r\n    {\r\n        profile: ProfileReducer,\r\n        dialog: dialogReducer,\r\n        usersPage: UsersReducer,\r\n        auth: AuthorizationReducer,\r\n        form: formReducer,\r\n        app: AppReducer,\r\n        chat: ChatReducer\r\n    }\r\n)\r\nconst sagaMiddleware = createSagaMiddleware()\r\n\r\n\r\nconst composeEnhancers = (window && (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\r\nexport const store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddlewere, sagaMiddleware)));\r\n\r\nsagaMiddleware.run(rootWatcher)\r\nfunction* rootWatcher() {\r\n\r\n        yield all([appWorkers(), authSaga(), dialogSaga(), profileSaga(), usersSaga()])\r\n\r\n}\r\n\r\n\r\n// @ts-ignore\r\nwindow.store = store\r\n\r\nexport type StoreStateType = ReturnType<typeof reducers>\r\n","import React from 'react';\r\nimport s from \"./nav.module.scss\"\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {AiOutlineUser, AiOutlineWechat} from \"react-icons/ai\";\r\nimport {AiOutlineMessage} from \"react-icons/ai\";\r\nimport {AiOutlineTeam} from \"react-icons/ai\";\r\nimport {AiOutlineSetting} from \"react-icons/ai\";\r\nimport {FiMenu} from \"react-icons/all\";\r\nimport {logout} from \"../../BLL/Reducers/auth-saga\";\r\n\r\n\r\nexport const Nav = () => {\r\n    const dispatch = useDispatch()\r\n    const logOut = () => {\r\n\r\n        dispatch(logout())\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={s.block}>\r\n\r\n            <div className={s.iconMenu}>\r\n                <FiMenu/>\r\n            </div>\r\n            <div className={s.container}>\r\n                <div className={s.menu}>\r\n                    <div className={s.item}>\r\n                        <NavLink to=\"/profile\" className={s.buttonItem}>\r\n                            <AiOutlineUser/>\r\n\r\n                        </NavLink>\r\n                    </div>\r\n                    <div className={s.item}>\r\n                        <NavLink to=\"/messages\" className={s.buttonItem}>\r\n                            <AiOutlineMessage/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div className={s.item}>\r\n                        <NavLink to=\"/users\" className={s.buttonItem}>\r\n                            <AiOutlineTeam/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div className={s.item}>\r\n                        <NavLink to=\"/setting\" className={s.buttonItem}>\r\n                            <AiOutlineSetting/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div className={s.item}>\r\n                        <NavLink to=\"/messages/chat\" className={s.buttonItem}>\r\n                            <AiOutlineWechat/>\r\n                        </NavLink>\r\n                    </div>\r\n\r\n\r\n                </div>\r\n                <NavLink to=\"/login\" className={s.logOut} onClick={() => logOut()}>\r\n                    LogOut\r\n                </NavLink>\r\n            </div>\r\n        </div>)\r\n}","import React from 'react'\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport s from \"./login-form.module.scss\";\r\nimport {maxLength, requiredField} from \"../utils/validators/validators\";\r\nimport {createFormField, Input} from \"../Common/forms-control/FormsControl\";\r\n\r\nconst maxLengthValidator = maxLength(50)\r\n\r\nconst LoginForm = ({handleSubmit, error, x}: any) => {\r\n    return (\r\n        /*        В пропсах теперь нам очень много всего приходит после оборачивания компоненты с формой в HOC.\r\n                В т.ч. метод handleSubmit, который позволяет не перезагружать страницу при отправке.*/\r\n        <form onSubmit={handleSubmit} className={s.loginForm}>\r\n            <Field placeholder={\"Email\"}\r\n                   component={Input}\r\n                   name={\"email\"}\r\n                   validate={[requiredField, maxLengthValidator]}\r\n                   props={{className: s.input}}/>\r\n            {/*Все поля в форме меняем на компоненты Field, которые пришли к нам из библиотеки, с указанием component аналогично пропсам*/}\r\n            <Field placeholder={\"Password\"}\r\n                   component={Input}\r\n                   name={\"password\"}\r\n                   validate={[requiredField, maxLengthValidator]}\r\n                   props={{className: s.input}}/>\r\n            <div className={s.rememberMe}>\r\n                <Field type={\"checkbox\"}\r\n                       component={Input}\r\n                       name={\"rememberMe\"}\r\n                       validate={[maxLengthValidator]}\r\n                       props={{className: s.checkbox}}/> Remember\r\n            </div>\r\n            {x && <img className={s.captcha} src={x} alt={\"\"}/>}\r\n\r\n            {x && createFormField(\"captcha URl\", \"captcha\", [], Input, {className: s.input})}\r\n\r\n            {error && <div className={s.formSunnierError}>\r\n                {error}\r\n            </div>}\r\n\r\n            <button className={s.button} type='submit'>Login</button>\r\n\r\n        </form>\r\n\r\n    )\r\n}\r\n//присвоили уникальное имя нашей новой форме в параметре – {form: 'login'}\r\nexport const LoginReduxForm: any = reduxForm({\r\n    form: 'Login'\r\n})(LoginForm)\r\n\r\n// Теперь при вводе текста в форме в нашем стейте появляется временный объект login (имя нашей формы),\r\n// который содержит много объектов, свойствами которых являются наши поля (берутся по name).\r\n// Среди них объекты «было ли посещено поле», «было ли тронуто» и т.д.\r\n//     А также объект values, где в свойства (берутся по name) попадает вводимый текст.\r\n// можно вывести в консоль и посмотреть параметры, потом их использовать","import {StoreStateType} from \"../../BLL/store\";\r\nimport {connect} from \"react-redux\";\r\nimport {Login} from \"./login\";\r\nimport {login} from \"../../BLL/Reducers/auth-saga\";\r\n\r\nconst mapStateToProps = (state: StoreStateType) => ({\r\n    isAuth: state.auth.isAuthorization,\r\n    captcha: state.auth.captchaURl\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch: any) => {\r\n    return {\r\n        login: (email: string, password: string, rememberMe: boolean, captcha: any) => {\r\n            dispatch(login(email, password, rememberMe, captcha))\r\n        }\r\n    }\r\n}\r\n\r\nexport const LoginContainer = connect(\r\n    mapStateToProps, mapDispatchToProps)(Login)","import React from 'react'\r\nimport s from \"./login.module.scss\"\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {LoginReduxForm} from \"./login-form\";\r\nimport {AiOutlineShopping, CgWorkAlt, MdComputer} from \"react-icons/all\";\r\n\r\nexport const Login = (props:any) => {\r\n/*    в месте вызова нашей компоненты с окончательной «редаксовской формой» теперь нужно повесить\r\n    произвольную функцию через onSubmit, которая соберет данные из полей из полей и обработает их при нажатии на кнопку:*/\r\n    const onSubmit = (formData: any) => {\r\n        console.log(formData)//здесь мы получаем данные с формы и будем из диспатчить потом\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n        // dispatch(reset(\"profileAddPostForm\")) для очистки полей в форме, в кавычках имя формы\r\n    }\r\n    if (props.isAuth) return <Redirect to={\"/profile\"}/>\r\n\r\n    return (\r\n        <div className={s.block}>\r\n            <div className={s.container}>\r\n                <div className={s.rightPart}>\r\n                    <div className={s.pathContainer}>\r\n                        <div className={s.firstText}>Join the club</div>\r\n                        <div className={s.secondText}>Lorem ipsum dolor sit amet,\r\n                            consectetur adipiscing elit. Ut elit tellus, luctus.\r\n                        </div>\r\n                        <div className={s.oneAdvantage}>\r\n                            <div className={s.icon}> <MdComputer/></div>\r\n                            <div className={s.description}>\r\n                                <div className={s.title}>Community</div>\r\n                                <div className={s.desc}>At vero eos et accusamus et.</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className={s.oneAdvantage}>\r\n                            <div className={s.icon}><AiOutlineShopping/></div>\r\n                            <div className={s.description}>\r\n                                <div className={s.title}>Online shop</div>\r\n                                <div className={s.desc}>At vero eos et accusamus et.</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className={s.oneAdvantage}>\r\n                            <div className={s.icon}> <CgWorkAlt/></div>\r\n                            <div className={s.description}>\r\n                                <div className={s.title}>Job search</div>\r\n                                <div className={s.desc}>At vero eos et accusamus et.</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className={s.leftPart}>\r\n                    <div className={s.pathContainer}>\r\n                        <img  className={s.iconNetwork} src={\"https://mythemestore.com/beehive-preview/wp-content/uploads/2020/07/logo-icon.svg\"} alt={\"\"}/>\r\n                        <div className={s.welcome}>Welcome</div>\r\n                        <LoginReduxForm onSubmit={onSubmit} x={props.captcha}/>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n","import s from \"./one-user.module.scss\";\r\nimport no_image from \"../../assets/img/no_image.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {AiOutlineUserAdd, AiOutlineUserDelete} from \"react-icons/all\";\r\nimport {AiOutlineMail} from \"react-icons/ai\";\r\n\r\nexport const OneUser = (props: any) => {\r\n    const user = props.user;\r\n    return (\r\n        <div className={s.oneFriendContainer}>\r\n            <img className={s.photo}\r\n                 src={user.photos.small != null ? user.photos.small : no_image} alt={\"\"}/>\r\n\r\n            <div className={s.name}>{user.name}</div>\r\n            <div className={s.btn}>\r\n                {user.followed\r\n                    ?//arr.some возвращает true, если хотя бы для одного элемента массива условие верно\r\n                    //при раздизабл. кнопки к нам прихоидот пустой массив\r\n                    <button className={s.item}\r\n                            disabled={props.IsFollowingProgress.some((id: any) => id === user.id)}\r\n                            onClick={() => {\r\n                                props.unfollow(user.id)\r\n                            }\r\n                            }><AiOutlineUserDelete/></button>\r\n                    :\r\n                    <button className={s.item}\r\n                            disabled={props.IsFollowingProgress.some((id: any) => id === user.id)}\r\n                            onClick={() => {\r\n                                props.follower(user.id)\r\n                            }\r\n                            }><AiOutlineUserAdd/></button>}\r\n                <NavLink to={'/messages/' + user.id} className={s.item}>\r\n                    <AiOutlineMail/>\r\n                </NavLink>\r\n            </div>\r\n            <NavLink className={s.viewProfileBtn} to={'/profile/' + user.id}>\r\n                view profile\r\n            </NavLink>\r\n        </div>\r\n\r\n    )\r\n}","import React, {useState} from 'react';\r\nimport s from \"./Paginator.module.scss\"\r\nimport {GrNext, GrPrevious} from \"react-icons/all\";\r\n\r\ntype PaginatorPropsType = {\r\n    pagesize: number\r\n    totalItemsCount: number\r\n    onPageChanget: (x: any) => void\r\n    currentPages: number\r\n}\r\nexport const Paginator = (props: PaginatorPropsType) => {\r\n    let portionSize = 10;\r\n    let pagesCount = Math.ceil(props.totalItemsCount / props.pagesize)\r\n    let pages = []\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n\r\n    return (\r\n        <div className={s.block}>\r\n            {portionNumber > 1 &&\r\n            <div className={s.btn}\r\n                 onClick={() => {\r\n                     setPortionNumber(portionNumber - 1)\r\n                 }}><GrPrevious/>\r\n            </div>}\r\n            {pages\r\n                .filter(x => x >= leftPortionPageNumber && x <= rightPortionPageNumber)\r\n                .map(x => {\r\n                    return <div className={props.currentPages === x ? s.selectPage : s.page}\r\n                                key={x}\r\n                                onClick={(e) => {\r\n                                    props.onPageChanget(x)\r\n                                }}>{x}</div>\r\n                })}\r\n            {portionCount > portionNumber &&\r\n            <div  className={s.btn} onClick={() => {\r\n                setPortionNumber(portionNumber + 1)\r\n            }}><GrNext/></div>}\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport s from \"./users.module.scss\"\r\nimport {OneUsersType} from \"../../BLL/Reducers/users-reducer\";\r\nimport {OneUser} from \"./one-user/oneUser\";\r\nimport {Paginator} from \"./paginator/Paginator\";\r\n\r\nexport const Users = (props:any) => {\r\n\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pagesize)\r\n    let pages = []\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    return (\r\n        <div className={s.block}>\r\n            {/*посмотреть друзей*/}\r\n            <div className={s.container}>\r\n\r\n                <div className={s.search}>\r\n                    <input className={s.inp}\r\n    placeholder={\"Search Members\"} value={props.search} onChange={(event) => {\r\n    props.searchAC(event.currentTarget.value)\r\n}}/>\r\n                    <button onClick={()=>{props.FiendsAC(true)}}>show frind</button>\r\n                    <button onClick={()=>{props.FiendsAC(false)}}>show all user</button>\r\n                </div>\r\n                <div className={s.userBlock}>\r\n                    {props.users.map((user: OneUsersType) =>\r\n                        <OneUser user={user}\r\n                                 unfollow={props.unfollow}\r\n                                 IsFollowingProgress={props.IsFollowingProgress}\r\n                                 follower={props.follower}\r\n                                 key={user.id}\r\n                        />\r\n                    )\r\n                    }\r\n                </div>\r\n                <div className={s.paginator}>\r\n                    <Paginator pagesize={props.pagesize}\r\n                               totalItemsCount={props.totalUsersCount}\r\n                               onPageChanget={props.onPageChanget}\r\n                               currentPages={props.currentPages}/>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    toggleFollowAC,\r\n    setCurrentPageAC, toggleIsFetchingAC, setUserIdForDisabledAC,\r\n    setTotalUsersCountAC,\r\n    setUsersAC,\r\n    OneUsersType, searchAC\r\n} from \"../../BLL/Reducers/users-reducer\";\r\nimport {StoreStateType} from \"../../BLL/store\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPages,\r\n    getIsFetching,\r\n    getIsFollowingProgress,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsersCreateSelector\r\n} from \"../../BLL/users-selectors\";\r\nimport {Users} from \"./users\";\r\nimport {follow, getUsers, unFollow} from \"../../BLL/Reducers/users-saga\";\r\n\r\n\r\nexport type MapStateToPropsType = {\r\n    users: OneUsersType[]\r\n    pagesize: number\r\n    totalUsersCount: number\r\n    currentPages: number\r\n    isFetching: boolean\r\n    IsFollowingProgress:boolean\r\n    isFollow: boolean\r\n    search: string\r\n}\r\nexport type MapDispatchTopropsType = {\r\n    follower: (id: number) => void\r\n    unfollow: (id: number) => void\r\n    setUsers: (x: []) => void\r\n    SetCurrentPage: (x: number) => void\r\n    setTotalUsersCount: (x: number) => void\r\n    toogleIsFetching: (x: boolean) => void\r\n    setIsFollowingProgress: any\r\n    getUsersThunk: any\r\n    FiendsAC:any\r\n    searchAC:any\r\n}\r\n\r\n\r\n\r\nclass UsersAPI extends React.Component<MapDispatchTopropsType & MapStateToPropsType, any> {\r\n    componentDidMount() {\r\n\r\n        this.props.getUsersThunk(this.props.currentPages, this.props.pagesize, this.props.isFollow, this.props.search)\r\n\r\n    }\r\n    componentDidUpdate(prevProps: Readonly<MapDispatchTopropsType & MapStateToPropsType>, prevState: Readonly<any>, snapshot?: any) {\r\n        if(this.props.search!==prevProps.search || this.props.isFollow!== prevProps.isFollow)\r\n            this.props.getUsersThunk(this.props.currentPages, this.props.pagesize, this.props.isFollow,this.props.search)\r\n\r\n    }\r\n\r\n    onPageChanget = (pageNumber: number) => {\r\n        this.props.getUsersThunk(pageNumber, this.props.pagesize,  this.props.isFollow,this.props.search)\r\n        this.props.SetCurrentPage(pageNumber);\r\n    }\r\n\r\n    render() {\r\n        /*if(this.props.isFetching){\r\n          return  <Preloader/>\r\n        }else */ return <>\r\n            <Users users={this.props.users}\r\n                   totalUsersCount={this.props.totalUsersCount}\r\n                   currentPages={this.props.currentPages}\r\n                   pagesize={this.props.pagesize}\r\n                   follower={this.props.follower}\r\n                   unfollow={this.props.unfollow}\r\n                   onPageChanget={this.onPageChanget}\r\n                   IsFollowingProgress={this.props.IsFollowingProgress}\r\n                   setIsFollowingProgress={this.props.setIsFollowingProgress}\r\n                   isFollow={this.props.isFollow}\r\n                   FiendsAC={this.props.FiendsAC}\r\n                   search={this.props.search}\r\n                   searchAC={this.props.searchAC}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: StoreStateType): MapStateToPropsType => {\r\n\r\n    return {\r\n        users: getUsersCreateSelector(state),\r\n        pagesize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPages: getCurrentPages(state),\r\n        isFetching: getIsFetching(state),\r\n        IsFollowingProgress: getIsFollowingProgress(state),\r\n        isFollow: state.usersPage.isFollow,\r\n        search: state.usersPage.search\r\n    }\r\n}\r\n\r\nexport const UsersContainer:any = compose(/*WithAuthRedirect,*/connect(mapStateToProps, {\r\n\r\n    follower:follow,\r\n    unfollow: unFollow,\r\n    setUsers:setUsersAC,\r\n    SetCurrentPage:setCurrentPageAC,\r\n    setTotalUsersCount: setTotalUsersCountAC,\r\n    setIsFollowingProgress: setUserIdForDisabledAC,\r\n    toogleIsFetching:toggleIsFetchingAC,\r\n    getUsersThunk: getUsers,\r\n    FiendsAC: toggleFollowAC,\r\n    searchAC: searchAC\r\n    //getUsersThunk: getFriendsThunkCreater\r\n}))(UsersAPI)\r\n\r\n\r\n","import React from 'react';\r\nimport s from \"./header.module.scss\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nexport const Header = (props: any) => {\r\n    return (\r\n        <div className={s.block}>\r\n            <div className={s.icon}>\r\n                <img className={s.iconNetwork}\r\n                     src={\"https://mythemestore.com/beehive-preview/wp-content/uploads/2020/07/logo-icon.svg\"} alt={\"\"}/>\r\n            </div>\r\n            <div className={s.container}>\r\n                {props.isAuthorization\r\n                    ? <div className={s.info}>\r\n                        <div className={s.name}>\r\n                            {props.login}\r\n                        </div>\r\n                    </div>\r\n                    : <></>}\r\n                <div className={s.unLog}>\r\n                    {props.isAuthorization\r\n                        ? <NavLink to=\"/login\" className={s.btn} onClick={props.logOut}>\r\n                            LogOut\r\n                        </NavLink>\r\n                        : <></>}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport {StoreStateType} from \"../../BLL/store\";\r\nimport {connect} from \"react-redux\";\r\nimport {Header} from \"./header\";\r\nimport {logout} from \"../../BLL/Reducers/auth-saga\";\r\n\r\nclass HeaderContainerConnect extends React.Component<any, any> {\r\n    refreshHeader(){\r\n        window.location.reload();\r\n    }\r\n    componentDidMount() {\r\n\r\n    }\r\n    componentDidUpdate(prevProps: Readonly<any>, prevState: Readonly<any>, snapshot?: any) {\r\n        if(this.props.isAuthorization !==prevProps.isAuthorization )\r\n            this.refreshHeader()\r\n    }\r\n    render() {\r\n        return (\r\n            <Header login={this.props.login} isAuthorization={this.props.isAuthorization} logOut={this.props.logOut}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: StoreStateType) => ({\r\n    isAuthorization: state.auth.isAuthorization,\r\n    login: state.auth.login\r\n})\r\nlet mapDispatchToProps = (dispatch: any) => {\r\n    return {\r\n        logOut: () => {\r\n            dispatch(logout())\r\n        }\r\n    }\r\n}\r\nexport const HeaderContainer = connect(mapStateToProps, mapDispatchToProps)(HeaderContainerConnect)","import s from \"./aboutMe-edit-form.module.scss\"\r\nimport {reduxForm} from \"redux-form\";\r\nimport React from \"react\";\r\nimport {createFormField, Input, Textarea} from \"../../Common/forms-control/FormsControl\";\r\n\r\n\r\nconst AboutMeEdit = ({handleSubmit, profile, error}: any) => {\r\n    return (\r\n        <form onSubmit={handleSubmit} className={s.formContainer}>\r\n            {error && <div className={s.formSunnierError}>\r\n                {error}\r\n            </div>}\r\n\r\n            <div className={s.editBlock}>\r\n                <div className={s.item1}>\r\n                    <h4>looking for a job: </h4>{createFormField(\"\", \"lookingForAJob\", [], Input, {type: \"checkbox\",  className: s.input })}\r\n                </div>\r\n\r\n                <div className={s.item2}>\r\n                    <h4>I can: </h4>\r\n                    {createFormField(\"skils\", \"lookingForAJobDescription\", [], Textarea, {  className: s.input })}\r\n                </div>\r\n                <div className={s.item2}>\r\n                    <h4>About me: </h4>\r\n                    {createFormField(\"About me\", \"aboutMe\", [], Textarea, {  className: s.input })}\r\n\r\n                </div>\r\n            </div>\r\n            <button className={s.btn}>save</button>\r\n        </form>\r\n    )\r\n}\r\nexport const AboutMeEditForm: any = reduxForm({form: 'editProfileAbout'})(AboutMeEdit)","import s from \"./contacts-edit-form.module.scss\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport React from \"react\";\r\nimport no_image from \"../../assets/img/no_image.png\";\r\nimport {createFormField, Input} from \"../../Common/forms-control/FormsControl\";\r\n\r\n export const MainEdit=(props: any)=>{\r\n     const updatePhoto = (e: any/*: ChangeEvent<HTMLInputElement>*/) => {\r\n         if (e.target.files.length) {\r\n             props.updatePhoto(e.target.files[0])\r\n         }\r\n     }\r\n//отправка данных с формы на сервер через санку. когда данные отправились, то меняемм  режим редактирования\r\n     const onSubmit = (formData: any) => {\r\n         props.updateInfoProfile(formData)\r\n             /*.then(() => {\r\n                 setEditMode(false);\r\n             })*/\r\n     }\r\n     return(\r\n         <div className={s.mainInfo}>\r\n             <div className={s.photoChangeBlock}>\r\n                 {props.profile.photos.large === null\r\n                     ? <img className={s.photo} src={no_image} alt={\"\"}/>\r\n                     : <img className={s.photo} src={props.profile.photos.large} alt={\"\"}/>}\r\n                 <label htmlFor=\"file-upload\" className={s.customfileupload} onChange={updatePhoto}>\r\n                     <input className={s.inputFile} id=\"file-upload\" type=\"file\"/>\r\n                     Upgrade photo\r\n                 </label>\r\n             </div>\r\n             <ContactsEditForm onSubmit={onSubmit} initialValues={props.profile}\r\n                               profile={props.profile}/>\r\n         </div>\r\n     )\r\n\r\n }\r\n\r\n\r\n\r\nconst ContactsEdit = ({handleSubmit, profile, error}: any) => {\r\n    return (\r\n        <form onSubmit={handleSubmit} className={s.formContainer}>\r\n            {error && <div className={s.formSunnierError}>\r\n                {error}\r\n            </div>}\r\n            <div className={s.editName}>\r\n                <div className={s.title}>FullName: </div>\r\n                {createFormField(\"\", \"fullName\", [], Input, {  className: s.input })}\r\n\r\n            </div>\r\n            <div className={s.editContacts}>\r\n                <h4>Contacts</h4>\r\n                <div className={s.contacts} >\r\n                    {Object.keys(profile.contacts).map(key => {\r\n                            return <div key={key} className={s.contact}>\r\n                                <div className={s.title}>{key}:</div>\r\n                                {createFormField(\"\", \"contacts.\" + key, [], Input, {  className: s.input })}\r\n                            </div>\r\n                        }\r\n                    )}\r\n                </div>\r\n            </div>\r\n            <button className={s.btn}>save</button>\r\n        </form>\r\n    )\r\n}\r\n const ContactsEditForm: any = reduxForm({form: 'editProfileContacts'})(ContactsEdit)","import React, {useState} from 'react'\r\nimport s from \"./setting.module.scss\"\r\nimport {AboutMeEditForm} from \"./aboutMe-edit-form/aboutMe-edit-form\";\r\nimport {MainEdit} from \"./contacts-edit-form/contacts-edit-form\";\r\nimport {Preloader} from \"../Common/preloader/Preloader\";\r\n\r\nexport const Setting = (props: any) => {\r\n    let [x, setX] = useState(true)\r\n    let [y, setY] = useState(false)\r\n// пока профайл не пришел с сервера, показываем загрузку страницы\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n\r\n//отправка данных с формы на сервер через санку. когда данные отправились, то меняемм  режим редактирования\r\n    const onSubmit = (formData: any) => {\r\n        props.updateInfoProfile(formData)\r\n            // .then(() => {\r\n            //     setEditMode(false);\r\n            // })\r\n    }\r\n\r\n    return <div className={s.block}>\r\n        <div className={s.container}>\r\n            <div className={s.editContainer}>\r\n\r\n                {x && <MainEdit profile={props.profile}\r\n                                updateInfoProfile={props.updateInfoProfile}\r\n                                updatePhoto={props.updatePhoto} />\r\n\r\n                }\r\n                {y &&\r\n\r\n                    <AboutMeEditForm onSubmit={onSubmit} initialValues={props.profile}\r\n                                     profile={props.profile}/>\r\n                }\r\n            </div>\r\n            <div className={s.nav}>\r\n                <div className={s.item} onClick={() => {\r\n                    setX(true);\r\n                    setY(false);\r\n                }}>1</div>\r\n                <div className={s.item} onClick={() => {\r\n                    setX(false);\r\n                    setY(true);\r\n                }}>2</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n}\r\n\r\n","import React from \"react\";\r\nimport {StoreStateType} from \"../../BLL/store\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {Setting} from \"./setting\";\r\nimport {getOneProfile, updateInfoProfile, updatePhotoTC} from \"../../BLL/Reducers/profile-saga\";\r\n\r\n\r\nclass ProfileConteiner extends React.Component<any, any>{\r\n// match из  withRouter  взялся\r\n    refreshProfile(){\r\n        let ownerId =this.props.authorizationUserId\r\n        // если айди не найден, то задаем айди авторизированного пользователя\r\n        if (!ownerId){\r\n            this.props.history.push(\"/login\")\r\n            // если пользователь не авторизирован, то в айди ничего нет и мы редеректемся на страницу логина\r\n\r\n        }\r\n        this.props.getOneProfile(ownerId)\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        this.refreshProfile()\r\n    }\r\n    componentDidUpdate(prevProps: Readonly<any>, prevState: Readonly<any>, snapshot?: any) {\r\n        if(this.props.match.params.userID !==prevProps.match.params.userID )\r\n            this.refreshProfile()\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <Setting profile={this.props.profile}\r\n                     ownerId={!this.props.match.params.userID}\r\n                     status={this.props.status}\r\n                     updateStatus={this.props.updateStatus}\r\n                     updatePhoto={this.props.updatePhoto}\r\n                     updateInfoProfile={this.props.updateInfoProfile}\r\n                     follower={this.props.follower}/>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToprops=(state:StoreStateType):any=>{\r\n    return{\r\n        profile: state.profile.profile,\r\n        authorizationUserId: state.auth.userId,\r\n        isAuthorization: state.auth.isAuthorization\r\n\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch: any)  => {\r\n    return {\r\n        getOneProfile: (id: number) => {\r\n            dispatch(getOneProfile(id))\r\n        },\r\n        updatePhoto: (file: any) => {\r\n            dispatch(updatePhotoTC(file))\r\n        },\r\n        updateInfoProfile: (profile: any) => {\r\n            dispatch(updateInfoProfile(profile))\r\n        }\r\n    }\r\n}\r\n\r\n\r\nconst SettingContainer:any= compose(\r\n    connect (mapStateToprops,mapDispatchToProps)\r\n    ,withRouter\r\n)(ProfileConteiner)\r\nexport default SettingContainer","import React from \"react\";\r\nimport {Preloader} from \"../Common/preloader/Preloader\";\r\n\r\n\r\nexport const WithSuspenseHOC=(Component:any)=>{\r\n\r\n   return(props: any)=>{\r\n       return <React.Suspense fallback={<Preloader/>}>\r\n           <Component{...props}/>\r\n       </React.Suspense>\r\n   }\r\n\r\n}","import s from \"./chat.module.scss\";\r\nimport React, {useEffect, useRef, useState} from \"react\";\r\nimport {MessagesType} from \"../../DAL/chat-api\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {sendMessagesThunk, startMessagesListening, stopMessagesListening} from \"../../BLL/Reducers/chat-reducer\";\r\nimport {StoreStateType} from \"../../BLL/store\";\r\nimport {FiSend} from \"react-icons/all\";\r\n\r\n\r\nexport const ChatPage = () => {\r\n    return (\r\n        <Chat/>\r\n    )\r\n}\r\nexport const Chat = () => {\r\n    const status = useSelector((state: StoreStateType) => state.chat.status)\r\n\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        dispatch(startMessagesListening())\r\n        return () => {\r\n            dispatch(stopMessagesListening())\r\n        }\r\n    }, [])\r\n    return (<div className={s.block}>\r\n            <div className={s.container}>\r\n                {status===\"error\"? <h3>error</h3>: <></>}\r\n                <Messages/>\r\n                <AddItemForm/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\ntype wsChanaleType = {\r\n    wsChanale: WebSocket | null\r\n}\r\n\r\nconst Messages = React.memo(() => {\r\n    console.log(\"render mes\")\r\n    const messages = useSelector((state: StoreStateType) => state.chat.messages)\r\n    const [ scrol, setScrol]=useState(true)\r\n    const mesAchorRef=useRef<HTMLDivElement>(null);\r\n    const scrollHandler=(e: React.UIEvent<HTMLDivElement, UIEvent>)=>{\r\n        const el= e.currentTarget;\r\n        if(Math.abs((el.scrollHeight-el.scrollTop)-el.clientHeight)<300)\r\n        {\r\n            !scrol && setScrol(true)\r\n        }\r\n        else {            scrol && setScrol(false)\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(scrol) {mesAchorRef.current?.scrollIntoView({behavior:'smooth'})}\r\n    },[messages])\r\n\r\n\r\n\r\n    return (\r\n\r\n        <div className={s.chat}  onScroll={scrollHandler}>\r\n            {messages.map((m, index) =><>\r\n                <div   className={s.my}>\r\n                    <img src={m.photo} width={\"50px\"} height={\"50px\"}/>\r\n                    <div className={s.sms}>\r\n                        <b>{m.userName}</b>\r\n                        <p className={s.sms}>{m.message}</p>\r\n                    </div>\r\n                </div>\r\n\r\n            </>\r\n            )}\r\n            <div ref={mesAchorRef}></div>\r\n        </div>\r\n\r\n    )\r\n\r\n})\r\nconst AddItemForm = () => {\r\n    const [mes, setMes] = useState(\"\")\r\n    const status = useSelector((state: StoreStateType) => state.chat.status)\r\n    const dispatch = useDispatch()\r\n\r\n    const sendMessages = () => {\r\n        if (!mes) {\r\n            return;\r\n        }\r\n        dispatch(sendMessagesThunk(mes))\r\n        setMes(\"\")\r\n    }\r\n\r\n    return (\r\n        <div className={s.sendMesBlock}>\r\n            <textarea value={mes} onChange={(e) => setMes(e.currentTarget.value)}/>\r\n            <button disabled={status!==\"ready\"} className={s.sendMess} onClick={sendMessages}><FiSend/></button>\r\n        </div>\r\n    )\r\n\r\n}","import React from 'react';\r\nimport s from \"./app.module.scss\"\r\nimport {Redirect, Route, Switch, withRouter} from \"react-router-dom\";\r\nimport {Nav} from \"./nav/nav\";\r\nimport {LoginContainer} from \"./login-page/login-container\";\r\nimport {UsersContainer} from \"./users-page/users-container\";\r\nimport {StoreStateType} from \"../BLL/store\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {HeaderContainer} from \"./header/header-container\";\r\nimport SettingContainer from \"./setting/setting-container\";\r\nimport {WithSuspenseHOC} from \"./HOC/with-suspense\";\r\nimport {Preloader} from \"./Common/preloader/Preloader\";\r\nimport {ChatPage} from \"./chat-page/chat\";\r\nimport {initialize} from \"../BLL/Reducers/app-saga\";\r\n\r\n\r\n// лейзи говорит, что он компаненту не импортирую. когда ее надо будет отрисоввать, он запросится с сервера\r\nconst MessagesContainer = React.lazy(() => import('./messages-page/messages-container'));\r\nconst ProfileContainerConnect = React.lazy(() => import('./profile-page/profile-container'));\r\n\r\n\r\nclass App extends React.Component<any, any> {\r\n// componentDidMount срабатывает один раз, когда компанента  вмонтируется\r\n    catchAllUnhandleError = (promiseRejectEvent: PromiseRejectionEvent) => {\r\n        alert(promiseRejectEvent)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n        window.addEventListener(\"unhandledrejection\", this.catchAllUnhandleError)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandleError)\r\n\r\n    }\r\n\r\n    render() {\r\n        // при первой загрузке у на нет данных, показываем поэтому крутилку\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n        // задача компаненты вернуть jsx(tsx) в зависимости от пропсов либо личного локального стейта\r\n        // exact требует полное совпадение урла. Можно добавить <Switch>..роутер..</Switch> и тогда при первом совпадении будет отрисовка.\r\n        // в этом случает лучше точные урлы ставить выше, а общие ниже\r\n        return (<div className={s.block}>\r\n                {window.location.pathname === '/'\r\n                || window.location.pathname === '/login'\r\n                    ? null\r\n                    : <HeaderContainer/>}\r\n\r\n                <div className={s.container}>\r\n                    {window.location.pathname === '/'\r\n                    || window.location.pathname === '/login'\r\n                        ? null\r\n                        : <Nav/>}\r\n\r\n\r\n                    <Switch>\r\n                        <Route path='/messages/chat'\r\n                               render={()=><ChatPage/>}/>\r\n                        <Route path='/profile/:userID?'\r\n                               render={WithSuspenseHOC(ProfileContainerConnect)}/>\r\n                        <Route path='/messages/:userID?'\r\n                               render={WithSuspenseHOC(MessagesContainer)}/>\r\n\r\n                        <Route path='/users'\r\n                               render={() => <UsersContainer/>}/>\r\n                        <Route path='/login'\r\n                               render={() => <LoginContainer/>}/>\r\n                        <Route path='/setting'\r\n                               render={() => <SettingContainer/>}/>\r\n                        <Route path='/'\r\n                               render={() => <Redirect to={'/login'}/>}/>\r\n                        <Route path='*'\r\n                               render={() => <>not found</>}/>\r\n\r\n                    </Switch>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: StoreStateType) => ({\r\n    initialized: state.app.initialized\r\n})\r\n// compose создает контейнернкю компанету, применяя один за одним HOCи=>\r\n// (компанента высшего порядка-это функция, которая принимает одну компаненту и возвращает другую компаненту.\r\n// Это нужно для того, что бы наша компанента получила какие-то данные)\r\n\r\n// connect  дает данные из Store с помощью mapStateToProps и mapDispatchToProps\r\n// withRouter дает компоненте данные из url\r\nexport const AppContainer: any = compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp: initialize}))(App)\r\n\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {store} from \"./BLL/store\";\r\nimport {Provider} from \"react-redux\";\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport {AppContainer} from \"./ui-new/App\";\r\n\r\n// BrowserRouter добовляет\r\n// Provider добовляет store в контекст, из которого все компаненты могут брать данные ( наприер стор, тема темная/светлая, язык)\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <BrowserRouter>\r\n\r\n            <AppContainer/>\r\n\r\n        </BrowserRouter>\r\n    </Provider>,\r\n    document.getElementById('root')\r\n);\r\nreportWebVitals();\r\n// реакт библиотека- это библиотека, которая эффективно отрисовывает html. Эффективно, в плане она не перерисовывает те элементы, которые не надо\r\n// реакт загружается и живет в браузере\r\n//компанента возвращает тсикс или джсикс\r\n\r\n//сайдэффект= запросы на сервер, сетТаймаут, обращение к дом элементам на прямую\r\n//  шудКомпонентАпдейт - реакт.Мемо\r\n// пьюрКомпонент\r\n//\r\n//\r\n///\r\n// редакс это система стейт менеджмента, то что позволчет управлять удобно стейто\r\n// редакс состоит из одного главного обьекта стор(хранилище,обьект ооп) .В стор мы засовываем редьюсеры, из которых он будет состоять.\r\n// редьюсеры это функции преобразователи. они получают на входе\r\n// экшен(обьект, инструкция, у которого минимум есть тип и мб данные) и часть стейта и преобразовывает стейт\r\n// делает преобраования он иммутабельно( изменяет не стейт а его копию)\r\n//\r\n// стор(хранилище) обьект ооп,  с ним можно взаимодействовать через его интерфейс( методы и свойства)\r\n// есть три главных метода:\r\n//getState позволяет получить из стора актуальный стейт\r\n//subscribe позволяет подписаться подпищику на изменение стейта\r\n//dispatch позволяет приобразовать стейт\r\n\r\n\r\n// реакт редакс для связки реакта и редакса. обеспечивает связь коспоненты со стором.\r\n// на помощь для связи комп. со стором приходит фунция connect\r\n// connect это хок. он создает вокгруг нашей компаненты другую компаненту. она снабжает нашу компаненты\r\n// connect(mstp, mdtp). mstp берет из стейта часть, которая использоваться будет в нашей компаненте( в нашу комп приходит это впропсах)\r\n// mdtp берем функцию (метод диспатч у стора) , который возвращает нам колбеки в которых диспатчи\r\n// в новой компаненте есть доступ к стору, у которого она может вызывать подписку на изменения стейта.\r\n// все обернута провайдером из р-р для того, что бы у всего приложения был доступ к стейту в контексте\r\n\r\n\r\n\r\n\r\n\r\n// node js это альтернатива браузеру. это платформа, позолябщая писать на js  любые приложения. его моно загрузить в телевизор холодильник пылесос север..\r\n// конкретно нам он нужен для подключения куси пакетов\r\n\r\n// компаненты\r\n// фунцкциональная компонента это функц принимающая пропсы и возврашает jsx\r\n\r\n// классовая компанента.\r\n\r\n// фунция мар принимает один обькт возвращает массив других обьектов (всегда добовлять key)\r\n// идентпотентность или детерменированность - получаем на входе одно и тоже и на выходе получаем одно и тоже\r\n// в чистой функции нет сайдэффектов, локального стейта\r\n// имьютабельность - функция не может менять то, что в нее приходит.\r\n\r\n\r\n\r\n// SERVER API\r\n// интрфейс сервера- это эндпоинты(урлы, на которые мы делаем запрос).рест апи это правила. какой тип запроса, какой ответ будет\r\n// делаем запросы с помощью axios. нам возвращаются промисы. у промиса  есть метод then, в которую мы передаем коллбек , который срабатывает когдп промис выполнился\r\n\r\n//ajax запросы выносим в контейнерную компаненту. контейнерных коспанент может быть много.\r\n// хок withRouter. тягает данные из урла. как коннект\r\n\r\n// thunk- это функция, которая принимает метод диспаитч, и внутри себя делаем асинхронную опирация и разные диспатчи\r\n// используем санк креатер. санку можно задиспатчить. 3\r\n//что бы ui не общался ни с кем, кроме блл.\r\n\r\n\r\n// редакс форм. есть пакет релакс форм реакт. он для того, что бы работал\r\n// флакс круговорот(ничего не появляется в юай без появления этого сначала в блл. например логин и пароль)\r\n\r\n\r\n// селекторы для mstp в connect. они для того случая, если очень тяжело достаются данные из стейта. что бы не засорять мстпya","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginForm\":\"login-form_loginForm__3Nfi0\",\"input\":\"login-form_input__624wX\",\"rememberMe\":\"login-form_rememberMe__2m9Np\",\"checkbox\":\"login-form_checkbox__2xz7W\",\"captcha\":\"login-form_captcha__lzo6i\",\"button\":\"login-form_button__1LSoq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"oneFriendContainer\":\"one-user_oneFriendContainer__IqkV5\",\"photo\":\"one-user_photo__NQoB7\",\"name\":\"one-user_name__eLmQa\",\"btn\":\"one-user_btn__3E5Y8\",\"item\":\"one-user_item__4HlJa\",\"viewProfileBtn\":\"one-user_viewProfileBtn__3y-5r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"header_block__GGVhJ\",\"icon\":\"header_icon__2UwuE\",\"iconNetwork\":\"header_iconNetwork__2-Iwd\",\"container\":\"header_container__YiPjg\",\"info\":\"header_info__2xgWL\",\"unLog\":\"header_unLog__104om\",\"btn\":\"header_btn__2nH68\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"chat_block__3VLcM\",\"container\":\"chat_container__AVvz-\",\"chat\":\"chat_chat__2YAG5\",\"my\":\"chat_my__1fnUp\",\"sms\":\"chat_sms__9DwXm\",\"sendMesBlock\":\"chat_sendMesBlock__xb1D3\",\"sendMess\":\"chat_sendMess__2vzKl\"};","import { createSelector } from 'reselect';\r\n\r\nexport const getUsers=(state: any)=>{\r\n    return state.usersPage.usersData\r\n}\r\nexport const getUsersCreateSelector=createSelector(getUsers,(users)=>{\r\n    return users.filter((x:any)=>true)\r\n})\r\nexport const getPageSize=(state: any)=>{\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount=(state: any)=>{\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPages=(state: any)=>{\r\n    return state.usersPage.currentPages\r\n}\r\nexport const getIsFetching=(state: any)=>{\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getIsFollowingProgress=(state: any)=>{\r\n    return state.usersPage.userIdForDisabled\r\n}\r\n","const ADD_POST = \"ADD_POST\"\r\nconst DELETE_POST = \"DELETE_POST\"\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\"\r\nconst SET_STATUS = \"SET_STATUS\"\r\nconst SAVE_PHOTO = \"SAVE_PHOTO\"\r\n\r\n// Type for Reduces\r\ntype AddPostType = {\r\n    type: \"ADD_POST\"\r\n    massages: string\r\n}\r\ntype DeletePostType = {\r\n    type: \"DELETE_POST\"\r\n    id: number\r\n}\r\ntype SetProfileType = {\r\n    type: \"SET_USER_PROFILE\"\r\n    profile: any\r\n}\r\ntype UpdateStatusType = {\r\n    type: \"SET_STATUS\"\r\n    status: any\r\n}\r\n\r\ntype UpdatePhotoType = {\r\n    type: \"SAVE_PHOTO\"\r\n    photos: any\r\n}\r\n\r\n// type for Action\r\nexport type ActionType = AddPostType\r\n    | SetProfileType\r\n    | UpdateStatusType\r\n    | DeletePostType\r\n    | UpdatePhotoType\r\n\r\n//   Initial State\r\nexport type StateType = {\r\n    profile: any\r\n    postsDataArray: {\r\n        id: number;\r\n        post: string;\r\n        likeCount: number;\r\n    }[];\r\n    status: string\r\n}\r\nlet initialState: StateType = {\r\n    profile: null,\r\n    postsDataArray: [\r\n        {id: 1, post: \"Приветики??\", likeCount: 1},\r\n        {id: 2, post: \"Ребята аууу...\", likeCount: 0},\r\n        {id: 3, post: \"Это мой первый пост!\", likeCount: 1200}\r\n    ],\r\n    status: \"\"\r\n}\r\n\r\n\r\nexport const ProfileReducer = (state: StateType = initialState, action: ActionType): StateType => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let text = action.massages\r\n            return {\r\n                ...state,\r\n                postsDataArray: [{id: 4, post: text, likeCount: 10}, ...state.postsDataArray]\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                postsDataArray: state.postsDataArray.filter(x => x.id !== action.id)\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case SAVE_PHOTO:\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//Action Creator\r\nexport const setOneProfileAC = (profile: any): SetProfileType => ({type: SET_USER_PROFILE, profile})\r\nexport const updateStatusAC = (status: string): UpdateStatusType => ({type: SET_STATUS, status})\r\nexport const updatePhotoAC = (photos: any): UpdatePhotoType => ({type: SAVE_PHOTO, photos})\r\nexport const addPostAC = (massages: string): AddPostType => ({type: ADD_POST, massages})\r\nexport const deletePostAC = (id: number): DeletePostType => ({type: DELETE_POST, id})\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"forms_formControl__snBcv\",\"error\":\"forms_error__3IsYX\",\"formSunnierError\":\"forms_formSunnierError__YIHyZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"users_block__2UOdh\",\"container\":\"users_container__22NfB\",\"search\":\"users_search__1pKs8\",\"inp\":\"users_inp__15EnU\",\"userBlock\":\"users_userBlock__37CNP\",\"paginator\":\"users_paginator__1c1rK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"setting_block__2e_co\",\"container\":\"setting_container__2hwTL\",\"editContainer\":\"setting_editContainer__xsklh\",\"nav\":\"setting_nav__2u35T\",\"item\":\"setting_item__2o6DG\"};","export default __webpack_public_path__ + \"static/media/looading.c1b8565f.gif\";","import looading from '../../assets/img/looading.gif'\r\nimport React from \"react\";\r\nimport s from \"./priloader.module.scss\";\r\n\r\nexport const Preloader=()=>{\r\n    return <div className={s.block}><img src={looading} className={s.pril} alt={\"\"}/></div>\r\n}","import {toggleIsFetchingAC} from \"./users-reducer\";\r\nimport {profileAPI, usersAPI} from \"../../DAL/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {setOneProfileAC, updatePhotoAC, updateStatusAC} from \"./profile-reducer\";\r\nimport {call, put, select, takeEvery} from \"redux-saga/effects\";\r\nimport {StoreStateType} from \"../store\";\r\n\r\n\r\nexport function* getOneProfileWorkerSaga(action: ReturnType<typeof getOneProfile>): any {\r\n    yield put(toggleIsFetchingAC(true))\r\n    let response = yield call(usersAPI.getProfile, action.id)\r\n    yield put(setOneProfileAC(response.data))\r\n    yield put(toggleIsFetchingAC(false))\r\n}\r\n// с сервера достает статус выбранного пользователя\r\nexport function* getStatusWorkerSaga(action: ReturnType<typeof getStatus>): any {\r\n    yield put(toggleIsFetchingAC(true))\r\n    let response = yield call(profileAPI.getStatus, action.id)\r\n    yield put(updateStatusAC(response.data))\r\n    yield put(toggleIsFetchingAC(false))\r\n}\r\n// обновляет статус на сервере\r\nexport function* updateStatusWorkwrSaga(action: ReturnType<typeof updateStatus>): any {\r\n    yield put(toggleIsFetchingAC(true))\r\n    try {\r\n        let response = yield call(profileAPI.updateStatus,action.status)\r\n        if (response.data.resultCode === 0) {\r\n            yield put(updateStatusAC(action.status))\r\n        }\r\n    } catch (error: any) {\r\n        console.log(\"я перехватил ошибку \")\r\n        console.log(error)\r\n    }\r\n    yield put(toggleIsFetchingAC(false))\r\n}\r\n// обновляет фото на сервере\r\nexport function* updatePhotoTC (action: ReturnType<typeof updatePhoto> ):any{\r\n        yield put(toggleIsFetchingAC(true))\r\n\r\n        let response = yield call(profileAPI.updatePhoto, action.file)\r\n        if (response.data.resultCode === 0) {\r\n            yield put(updatePhotoAC(response.data.data.photos))\r\n        }\r\n        yield put(toggleIsFetchingAC(false))\r\n\r\n\r\n}\r\n// обновляет информацию о профиле на сервере\r\nexport function* updateInfoProfileWorkerSaga (action: ReturnType<typeof updateInfoProfile> ): any {\r\n    yield put(toggleIsFetchingAC(true))\r\n    const getCart = (state:StoreStateType) => state.auth.userId\r\n\r\n    const userId = yield select(getCart)\r\n    let response = yield call(profileAPI.updateInfoProfile,action.profile)\r\n    if (response.data.resultCode === 0) {\r\n        yield put(getOneProfile(userId))\r\n    } else {\r\n        yield put(stopSubmit(\"editProfile\", {_error: response.data.messages[0]}))\r\n        return Promise.reject()\r\n    }\r\n    yield put(toggleIsFetchingAC(false))\r\n\r\n}\r\n\r\nexport const getOneProfile = (id: any) => {\r\n    return {type: \"PROFILE/GET_ONE_PROFILE\", id}\r\n}\r\nexport const getStatus = (id: any) => {\r\n    return {type: \"PROFILE/getStatus\", id}\r\n\r\n}\r\nexport const updateStatus = (status: string) => {\r\n    return {type: \"PROFILE/updateStatusTC\", status}\r\n\r\n}\r\nexport const updatePhoto = (file: any) => {\r\n    return {type: \"PROFILE/updatePhoto\", file}\r\n\r\n}\r\nexport const updateInfoProfile= (profile: any) => {\r\n    return {type: \"PROFILE/updateInfoProfileT\", profile}\r\n\r\n}\r\n\r\n\r\nexport function* profileSaga() {\r\n    yield takeEvery(\"PROFILE/GET_ONE_PROFILE\", getOneProfileWorkerSaga)\r\n    yield takeEvery(\"PROFILE/getStatus\", getStatusWorkerSaga)\r\n    yield takeEvery(\"PROFILE/updateStatusTC\", updateStatusWorkwrSaga)\r\n    yield takeEvery(\"PROFILE/updatePhoto\", updatePhotoTC)\r\n    yield takeEvery(\"PROFILE/updateInfoProfileT\", updateInfoProfileWorkerSaga)\r\n}","import {usersAPI} from \"../../DAL/api\";\r\nimport {\r\n    followAC,\r\n    setTotalUsersCountAC,\r\n    setUserIdForDisabledAC,\r\n    setUsersAC,\r\n    toggleIsFetchingAC,\r\n    unFollowAC\r\n} from \"./users-reducer\";\r\nimport {call, put, takeEvery} from \"redux-saga/effects\";\r\nimport {\r\n    getOneProfileWorkerSaga,\r\n    getStatusWorkerSaga,\r\n    updateInfoProfileWorkerSaga,\r\n    updatePhotoTC,\r\n    updateStatusWorkwrSaga\r\n} from \"./profile-saga\";\r\n\r\nexport function* getUsersWorkerSaga(action: ReturnType<typeof getUsers>): any {\r\n    yield put(toggleIsFetchingAC(true))\r\n    let response;\r\n    response = yield call(usersAPI.getUsers, action.currentPages, action.pagesize, action.follow, action.term)\r\n    yield put(toggleIsFetchingAC(false))\r\n    yield put(setUsersAC(response.items))\r\n    yield put(setTotalUsersCountAC(response.totalCount))\r\n\r\n}\r\n\r\n// делает запрос на сервер, меняет на сервере свойство фоллоу на true\r\nexport function* folloWorkerSaga(action: ReturnType<typeof follow>): any {\r\n    yield put(setUserIdForDisabledAC(true, action.id))\r\n    let response = yield call(usersAPI.follow, action.id)\r\n    if (response.resultCode === 0) {\r\n        yield put(followAC(action.id))\r\n    }\r\n    yield put(setUserIdForDisabledAC(false, action.id))\r\n}\r\n\r\n// делает запрос на сервер, удаляет на сервере свойство фоллоу(ставит по умолчанию false)\r\nexport function* unFollowWorkerSaga(action: ReturnType<typeof unFollow>): any {\r\n        yield put(setUserIdForDisabledAC(true, action.id))\r\n        let response = yield call(usersAPI.unFollow, action.id)\r\n        if (response.resultCode === 0) {\r\n            yield put(unFollowAC(action.id))\r\n        }\r\n        yield put(setUserIdForDisabledAC(false, action.id))\r\n\r\n}\r\n\r\nexport const getUsers = (currentPages: number, pagesize: number, follow: boolean, term: any) => {\r\n    return {type: \"USERS/GET_USERS\", currentPages, pagesize, follow, term}\r\n}\r\nexport const follow = (id: any) => {\r\n    return {type: \"USERS/FOLLOW\", id}\r\n}\r\nexport const unFollow = (id: any) => {\r\n    return {type: \"USERS/UN_FOLLOW\", id}\r\n}\r\nexport function* usersSaga() {\r\n    yield takeEvery(\"USERS/GET_USERS\", getUsersWorkerSaga)\r\n    yield takeEvery(\"USERS/FOLLOW\", folloWorkerSaga)\r\n    yield takeEvery(\"USERS/UN_FOLLOW\", unFollowWorkerSaga)\r\n}","const GET_SELECTED_DIALOG = \"GET_SELECTED_DIALOG\"\r\nconst GET_SELECTED_DIALOG_MORE = \"GET_SELECTED_DIALOG_MORE\"\r\nconst GET_USERS_TALKED_WITH = \"GET_USERS_TALKED_WITH\"\r\n//type for Reduces\r\ntype GetSelectedDialogType = {\r\n    type: \"GET_SELECTED_DIALOG\"\r\n    items: any;\r\n}\r\ntype GetSelectedDialogMoreType = {\r\n    type: \"GET_SELECTED_DIALOG_MORE\"\r\n    items: any;\r\n}\r\n\r\ntype GetUsersTalkedWithType = {\r\n    type: \"GET_USERS_TALKED_WITH\"\r\n    usersArray: any;\r\n}\r\n\r\n//type for Action\r\ntype ActionType = GetSelectedDialogType | GetUsersTalkedWithType | GetSelectedDialogMoreType\r\n\r\n//initial State\r\ntype StateType = {\r\n    recipientId: number | null\r\n    messages: any\r\n    users: any\r\n    totalCount: any\r\n}\r\nlet initialState: StateType = {\r\n    recipientId: null,\r\n    messages: null,\r\n    users: null,\r\n    totalCount: null\r\n}\r\n\r\nexport const dialogReducer = (state: StateType = initialState, action: ActionType): StateType => {\r\n    if (state) {\r\n        switch (action.type) {\r\n            case GET_SELECTED_DIALOG:\r\n                /*let oldMessages = {...state}\r\n                if (state.messages !== null) {\r\n                    return {\r\n                        ...state,\r\n                        messages: action.items.concat(oldMessages.messages)\r\n                    }\r\n                } else */\r\n                return {\r\n                    ...state,\r\n                    messages: action.items.items,\r\n                    totalCount: action.items.totalCount\r\n                }\r\n            case GET_SELECTED_DIALOG_MORE:\r\n                let oldMessages = {...state}\r\n\r\n                return {\r\n                    ...state,\r\n                    messages: action.items.items.concat(oldMessages.messages),\r\n                    totalCount: action.items.totalCount\r\n\r\n                }\r\n            case GET_USERS_TALKED_WITH:\r\n                return {\r\n                    ...state,\r\n                    users: action.usersArray\r\n                }\r\n\r\n            default:\r\n                return state;\r\n        }\r\n    } else return state\r\n}\r\n\r\n\r\n// Action Creator\r\nexport const getSelectedDialogAC = (items: any): GetSelectedDialogType => ({\r\n    type: GET_SELECTED_DIALOG,\r\n    items: items\r\n})\r\n\r\n\r\nexport const getSelectedDialogMoreAC = (items: any): GetSelectedDialogMoreType => ({\r\n    type: GET_SELECTED_DIALOG_MORE,\r\n    items: items\r\n})\r\nexport const getUsersTalkedWithAC = (users: any): GetUsersTalkedWithType => ({\r\n    type: GET_USERS_TALKED_WITH,\r\n    usersArray: users\r\n})\r\n\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Paginator_block__16mGz\",\"btn\":\"Paginator_btn__2k-up\",\"selectPage\":\"Paginator_selectPage__hgCCW\",\"page\":\"Paginator_page__1Vktn\"};","export default __webpack_public_path__ + \"static/media/no_image.4a9ff6fc.png\";","export const requiredField=(value:any)=>{\r\n    if(value) return undefined\r\n    return \"Field is required\"\r\n}\r\nexport const maxLength=(maxLength: number)=>(value:any)=>{\r\n    if(value && value.length>maxLength) return `max lenght is ${maxLength} symbols`\r\n    return undefined\r\n}"],"sourceRoot":""}