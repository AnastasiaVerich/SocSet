(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{341:function(t,e,o){t.exports={photo:"ProfileInfo_photo__34hd_",container:"ProfileInfo_container__1Hmme"}},342:function(t,e,o){t.exports={block:"Profile_block__3LxMd"}},348:function(t,e,o){"use strict";o.r(e);var s=o(43),i=o(44),n=o(46),c=o(45),a=o(0),r=o.n(a),u=o(114),l=o(47),j=o(1),d=function(t){var e=Object(a.useState)(!1),o=Object(u.a)(e,2),s=o[0],i=o[1],n=Object(a.useState)(t.status),c=Object(u.a)(n,2),r=c[0],l=c[1];Object(a.useEffect)((function(){l(t.status)}),[t.status]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("b",{children:"\u0421\u0442\u0430\u0442\u0443\u0441: "}),!s&&Object(j.jsx)("span",{onDoubleClick:function(){i(!0)},children:t.status||"-----"}),s&&Object(j.jsx)("input",{autoFocus:!0,onBlur:function(){i(!1),t.updateStatus(r)},onChange:function(t){l(t.target.value)},value:r})]})},p=o(112),b=o(49),h=o(146),f=o(31),O=o.n(f),x=Object(h.a)({form:"editProfile"})((function(t){var e=t.handleSubmit,o=t.profile,s=t.error;return console.log(o),Object(j.jsxs)("form",{onSubmit:e,children:[s&&Object(j.jsx)("div",{className:O.a.formSunnierError,children:s}),Object(j.jsxs)("div",{children:[Object(j.jsx)("b",{children:"FullName: "})," ",Object(b.c)("Full name","fullName",[],b.a)]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("b",{children:"looking for a job: "}),Object(b.c)("","lookingForAJob",[],b.a,{type:"checkbox"})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("b",{children:"I can: "}),Object(b.c)("skils","lookingForAJobDescription",[],b.b)]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("b",{children:"About me: "}),Object(b.c)("About me","aboutMe",[],b.b)]}),Object(j.jsx)("div",{children:Object(j.jsxs)("b",{children:["Contacts: ",Object.keys(o.contacts).map((function(t){return Object(j.jsx)("div",{children:Object(j.jsxs)("b",{children:[t,": ",Object(b.c)(t,"contacts."+t,[],b.a)]})},t)}))]})}),Object(j.jsx)("button",{children:"save"})]})})),v=o(350),m=o(328),g=o(20),S=o(36),I=o.n(S),k=function(t){return Object(j.jsxs)("div",{children:[Object(j.jsxs)("b",{children:[t.contactTitle,": "]}),t.contactValue]})},P=function(t){return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:Object(j.jsxs)("h2",{children:[Object(j.jsx)("b",{children:"FullName: "}),t.profile.fullName]})}),Object(j.jsxs)("div",{children:[Object(j.jsx)("b",{children:"looking for a job: "}),t.profile.lookingForAJob?"yes":"no"]}),t.profile.lookingForAJobDescription&&Object(j.jsxs)("div",{children:[Object(j.jsx)("b",{children:"I can: "}),t.profile.lookingForAJobDescription]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("b",{children:"About me: "}),t.profile.aboutMe]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("b",{children:"Contacts: "}),Object.keys(t.profile.contacts).map((function(e){return Object(j.jsx)(k,{contactTitle:e,contactValue:t.profile.contacts[e]},e)}))]}),t.ownerId&&Object(j.jsx)(m.a,{variant:"contained",color:"primary",onClick:t.goToEditeMode,children:"edit Data"})]})},y=function(t){Object(n.a)(o,t);var e=Object(c.a)(o);function o(){var t;Object(s.a)(this,o);for(var i=arguments.length,n=new Array(i),c=0;c<i;c++)n[c]=arguments[c];return(t=e.call.apply(e,[this].concat(n))).state={editMode:!1,status:t.props.status},t.activateEditMode=function(){t.setState({editMode:!0})},t.offEditMode=function(){t.setState({editMode:!1}),t.props.updateStatus(t.state.status)},t.onStatusChange=function(e){t.setState({status:e.target.value})},t}return Object(i.a)(o,[{key:"componentDidUpdate",value:function(t,e,o){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(j.jsx)(j.Fragment,{children:this.state.editMode?Object(j.jsx)("div",{children:Object(j.jsx)("input",{onChange:this.onStatusChange,autoFocus:!0,onBlur:this.offEditMode,value:this.state.status})}):Object(j.jsx)("div",{children:Object(j.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"-----"})})})}}]),o}(r.a.Component),M=o(341),C=o.n(M),D=function(t){var e=Object(a.useState)(!1),o=Object(u.a)(e,2),s=o[0],i=o[1];if(!t.profile)return Object(j.jsx)(l.a,{});return Object(j.jsxs)("div",{className:C.a.container,children:[Object(j.jsxs)("div",{children:[null===t.profile.photos.large?Object(j.jsx)("img",{className:C.a.photo,src:p.a}):Object(j.jsx)("img",{className:C.a.photo,src:t.profile.photos.large}),Object(j.jsxs)("div",{children:[Object(j.jsx)(d,{status:t.status,updateStatus:t.updateStatus}),Object(j.jsx)(y,{status:t.status,updateStatus:t.updateStatus})]}),Object(j.jsx)("div",{children:t.ownerId&&Object(j.jsx)(v.a,{color:"primary",type:"file",onChange:function(e){e.target.files.length&&t.updatePhoto(e.target.files[0])}})}),Object(j.jsx)("div",{children:!t.ownerId&&Object(j.jsx)(g.b,{to:"/dialogs/"+t.profile.userId,activeClassName:I.a.act,children:Object(j.jsx)(m.a,{variant:"contained",color:"primary",children:"Start dialog"})})})]}),Object(j.jsx)("div",{children:s?Object(j.jsx)(x,{onSubmit:function(e){t.updateInfoProfile(e).then((function(){i(!1)}))},initialValues:t.profile,profile:t.profile}):Object(j.jsx)(P,{profile:t.profile,ownerId:t.ownerId,goToEditeMode:function(){i(!0)}})})]})},F=o(342),w=o.n(F),A=function(t){return Object(j.jsx)("div",{className:w.a.block,children:Object(j.jsx)(D,{profile:t.profile,status:t.status,updateStatus:t.updateStatus,ownerId:t.ownerId,updatePhoto:t.updatePhoto,updateInfoProfile:t.updateInfoProfile})})},N=o(18),_=o(144),E=o(12),J=o(11),z=function(t){Object(n.a)(o,t);var e=Object(c.a)(o);function o(){return Object(s.a)(this,o),e.apply(this,arguments)}return Object(i.a)(o,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userID;t||(t=this.props.authorizationUserId)||this.props.history.push("/login"),this.props.getOneProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,o){this.props.match.params.userID!==t.match.params.userID&&this.refreshProfile()}},{key:"render",value:function(){return Object(j.jsx)(A,{profile:this.props.profile,ownerId:!this.props.match.params.userID,status:this.props.status,updateStatus:this.props.updateStatus,updatePhoto:this.props.updatePhoto,updateInfoProfile:this.props.updateInfoProfile})}}]),o}(r.a.Component),T=Object(J.d)(Object(N.b)((function(t){return{profile:t.profile.profile,status:t.profile.status,authorizationUserId:t.auth.userId,isAuthorization:t.auth.isAuthorization}}),{getOneProfile:_.b,getStatus:_.c,updateStatus:_.f,updatePhoto:_.e,updateInfoProfile:_.d}),E.g)(z);e.default=T}}]);
//# sourceMappingURL=4.b978f132.chunk.js.map